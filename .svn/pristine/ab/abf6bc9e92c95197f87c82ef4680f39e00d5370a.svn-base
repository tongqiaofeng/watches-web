{"remainingRequest":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches-three\\src\\components\\purch\\Logistics-view.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches-three\\src\\components\\purch\\Logistics-view.vue","mtime":1597739263780},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches-three\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNjb250YWluZXIgewoKICAuZWwtZm9ybS1pdGVtOjphZnRlciwKICAuZWwtZm9ybS1pdGVtOjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKICAgIGNvbnRlbnQ6ICIiOwogIH0KCiAgLmVsLWZvcm0taXRlbV9fY29udGVudDo6YWZ0ZXIsCiAgLmVsLWZvcm0taXRlbV9fY29udGVudDo6YmVmb3JlIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBjb250ZW50OiAiIjsKICB9CgogIC5lbC1kaWFsb2dfX3RpdGxlIHsKICAgIGZvbnQtc2l6ZTogMjBweDsKICB9Cn0KCi52dWUtZGlyZWN0aXZlLWltYWdlLXByZXZpZXdlciB7CiAgei1pbmRleDogOTk5OTsKfQo="},{"version":3,"sources":["Logistics-view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoSA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Logistics-view.vue","sourceRoot":"src/components/purch","sourcesContent":["<template>\r\n  <div class=\"view-container\" id=\"container\">\r\n    <!-- <h1>物流</h1> -->\r\n    <div v-show=\"logisticsViewList.length == 0\" ref=\"hello\" style=\"margin-top: 100px;text-align: center;\">\r\n      <p>{{hintMsg}}</p>\r\n    </div>\r\n    <div v-if=\"logisticsViewList.length !== 0\">\r\n      <div class=\"view\" v-for=\"(item,index) in logisticsViewList\" :key=\"index\">\r\n        <div class=\"purchase-row\">\r\n          <span class=\"purchase-number\">物流单号: {{\" \" + item.log_id}}</span>\r\n          <span class=\"purchase-date\">发货时间: {{item.log_sendTime}}</span>\r\n        </div>\r\n        <table class=\"view-table\">\r\n          <tr>\r\n            <th>抵达仓库名称</th>\r\n            <th>总运费金额</th>\r\n            <th>物流状态</th>\r\n            <th>操作</th>\r\n          </tr>\r\n          <tr>\r\n            <td>{{item.log_warehouse}}</td>\r\n            <td>{{'HKD '+formatNumberRgx(item.log_money)}}</td>\r\n            <td>\r\n              <div style=\"display: flex;justify-content:center;\">\r\n                <span>{{item.log_state == 1 ? \"运输中\" : \"已到达仓库\"}}</span>\r\n                <div style=\"margin-left: 5px;\">\r\n                  <img :src=\"item.log_state == 1 ? img1 : img2\" style=\"width: 20px;height: 20px;\" />\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <el-tooltip class=\"item\" effect=\"light\" content=\"查看详细信息\" placement=\"top-end\">\r\n                <img src=\"../../assets/imgs/details.png\" style=\"cursor: pointer;\" @click=\"viewDetails(item)\" />\r\n              </el-tooltip>\r\n              <el-dialog title=\"详细物流信息\" :visible.sync=\"dialogVisible\">\r\n                <div style=\"text-align: left;\">\r\n                  <div class=\"details-container\">\r\n                    <el-form label-width=\"130px\">\r\n                      <el-form-item label=\"预计到达时间：\" v-if=\"details.log_state == 1\">\r\n                        <el-date-picker v-model=\"details.log_arriveTime\" type=\"date\" placeholder=\"date\"\r\n                          class=\"input-style\" readonly></el-date-picker>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"到达仓库时间：\" v-if=\"details.log_state == 2\">\r\n                        <el-date-picker v-model=\"details.log_arriveTime\" type=\"date\" placeholder=\"date\"\r\n                          class=\"input-style\" readonly></el-date-picker>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"到达仓库：\">\r\n                        <el-input v-model=\"details.log_warehouse\" class=\"input-style\"\r\n                          style=\"width: 60%;height: auto;line-height: 40px;\" readonly></el-input>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"总运费：\">\r\n                        <el-input v-model=\"details.log_money\" style=\"width: 60%;height: auto;line-height: 40px;\"\r\n                          readonly>\r\n                          <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                    <div>\r\n                      <div style=\"margin: 15px 0;font-size: 18px;\">\r\n                        <span>共 {{nums}} 块手表</span>\r\n                        <!-- <span></span> -->\r\n                      </div>\r\n                      <div class=\"every-details\">\r\n                        <div style=\"font-size: 16px;\">\r\n                          <span>每块表详细信息：</span>\r\n                        </div>\r\n                        <table>\r\n                          <tr>\r\n                            <th class=\"table-th\">图片</th>\r\n                            <th class=\"table-th\">型号</th>\r\n                            <th class=\"table-th\">机芯号</th>\r\n                            <th class=\"table-th\">采购价</th>\r\n                            <th class=\"table-th\">物流状态</th>\r\n                            <th class=\"table-th\">运费</th>\r\n                          </tr>\r\n                          <tr v-for=\"(items,index) in details.log_watch\" :key=\"index\">\r\n                            <td>\r\n                              <img v-image-preview\r\n                                :src=\"items.buy_watchPics == null || items.buy_watchPics == '' ? '' : img + '/img/watch/'+ (items.buy_watchPics || '').split('|')[0]\"\r\n                                style=\"width: 100px;height: 100px;object-fit: cover;border-radius: 30px;\" />\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <span>{{items.buy_watchBrand}}</span>\r\n                              </div>\r\n                              <div>\r\n                                <span>{{items.buy_watchModel}}</span>\r\n                              </div>\r\n                            </td>\r\n                            <td>{{items.buy_watchSn}}</td>\r\n                            <td>{{items.buy_watchCurrency}} {{formatNumberRgx(items.buy_watchPrice)}}</td>\r\n                            <td>\r\n                              <!-- <span>{{items.log_state == 1 ? \"运输中\" : \"已到达仓库\"}}</span> -->\r\n                              <img :src=\"items.log_state == 2 || items.log_state > 2 ? img2 : img1\" />\r\n                            </td>\r\n                            <td>\r\n                              <div style=\"width: 100%;margin: 0 auto;border-bottom: 1px solid #000;display: flex;\">\r\n                                <input type=\"text\" v-model=\"items.log_moneyEx\" class=\"freight-input\" readonly />\r\n                                <i slot=\"suffix\"\r\n                                  style=\"width: 50%;height: 40px;line-height: 40px;font-style:normal;color: #000;\">HKD</i>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div slot=\"footer\">\r\n                  <el-button @click=\"viewClick1\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"viewClick2\" v-preventClick>确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div style=\"width: 100%;height: 50px;\">\r\n        <div style=\"margin:15px 0;position:absolute;right:10%;\">\r\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n            layout=\"total, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        hintMsg: '数据加载中...',\r\n        img: this.$store.state.baseUrl,\r\n        total: 0,\r\n        page: 1,\r\n        pageNum: 10,\r\n        dialogVisible: false,\r\n        logisticsViewList: [],\r\n        img1: require(\"../../assets/imgs/carImg.png\"),\r\n        img2: require(\"../../assets/imgs/sureImg.png\"),\r\n        details: {},\r\n        nums: 0\r\n      };\r\n    },\r\n    props: [\"logisticsView\"],\r\n    mounted() {\r\n      this.handleView();\r\n      if (this.logisticsView.logisticsV == 1) {\r\n        this.handleView();\r\n      }\r\n    },\r\n    methods: {\r\n      // 获取已发货的商品物流信息\r\n      handleView() {\r\n        this.hintMsg = '数据加载中...';\r\n        this.$axios\r\n          .post(this.$store.state.baseUrl + \"/LOGList\", {\r\n            page: this.page,\r\n            pageNum: this.pageNum\r\n          })\r\n          .then(res => {\r\n            console.log(\"我是已发货商品\");\r\n            console.log(res);\r\n            this.total = res.data.total;\r\n            this.logisticsViewList = res.data.lst;\r\n            if (this.logisticsViewList.length == 0) {\r\n              this.hintMsg = \"啊哦~暂无数据\";\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      // 分页\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        console.log(this.page);\r\n        this.handleView();\r\n        // 换页回到顶部\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      // 点击查看详情\r\n      viewDetails(details) {\r\n        console.log(\"要查看物流详情了哦\");\r\n        console.log(details);\r\n        this.details = details;\r\n        this.nums = this.details.log_watch.length;\r\n        this.dialogVisible = true;\r\n      },\r\n      viewClick1() {\r\n        this.handleView();\r\n        this.dialogVisible = false;\r\n      },\r\n      viewClick2() {\r\n        this.handleView();\r\n        this.dialogVisible = false;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .view-container {\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    padding-bottom: 20px;\r\n\r\n    .view {\r\n      width: 100%;\r\n      margin-bottom: 20px;\r\n      background-color: #fff;\r\n      border-radius: 30px;\r\n\r\n      .purchase-row {\r\n        padding-top: 20px;\r\n        padding-left: 30px;\r\n\r\n        .purchase-number {\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .purchase-date {\r\n          margin-left: 20px;\r\n          color: #c8c8c8;\r\n        }\r\n      }\r\n\r\n      .view-table {\r\n        width: 100%;\r\n        padding: 30px;\r\n        padding-bottom: 20px;\r\n        padding-top: 20px;\r\n        margin: 0 auto;\r\n\r\n        td {\r\n          padding: 20px 0;\r\n          background-color: #f3fbf9;\r\n          font-size: 15px;\r\n        }\r\n\r\n        .details-container {\r\n          .every-details {\r\n            .table-th {\r\n              font-size: 16px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .freight-input {\r\n      width: 90%;\r\n      height: 40px;\r\n      border: 0;\r\n      outline: none;\r\n      background-color: transparent;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  .input-style {\r\n    width: 60% !important;\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    table-layout: fixed;\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 16%; // 100/6\r\n        text-align: center;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #container {\r\n\r\n    .el-form-item::after,\r\n    .el-form-item::before {\r\n      display: none;\r\n      content: \"\";\r\n    }\r\n\r\n    .el-form-item__content::after,\r\n    .el-form-item__content::before {\r\n      display: none;\r\n      content: \"\";\r\n    }\r\n\r\n    .el-dialog__title {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n\r\n  .vue-directive-image-previewer {\r\n    z-index: 9999;\r\n  }\r\n</style>"]}]}