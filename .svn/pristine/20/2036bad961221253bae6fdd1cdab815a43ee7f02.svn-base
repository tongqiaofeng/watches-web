{"remainingRequest":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\upgrade\\up-watches\\src\\components\\purch\\logistics-view.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"D:\\aa-tong\\upgrade\\up-watches\\src\\components\\purch\\logistics-view.vue","mtime":1585709562664},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2NvbnRhaW5lciB7CgogIC5lbC1mb3JtLWl0ZW06OmFmdGVyLAogIC5lbC1mb3JtLWl0ZW06OmJlZm9yZSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgY29udGVudDogIiI7CiAgfQoKICAuZWwtZm9ybS1pdGVtX19jb250ZW50OjphZnRlciwKICAuZWwtZm9ybS1pdGVtX19jb250ZW50OjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKICAgIGNvbnRlbnQ6ICIiOwogIH0KCiAgLmVsLWRpYWxvZ19fdGl0bGUgewogICAgZm9udC1zaXplOiAyMHB4OwogIH0KCiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTgwMXB4KSB7CiAgICAuZWwtZGlhbG9nIHsKICAgICAgd2lkdGg6IDU1JTsKICAgIH0KICB9CgogIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDE2NDFweCkgYW5kIChtYXgtd2lkdGg6IDE4MDBweCkgewogICAgLmVsLWRpYWxvZyB7CiAgICAgIHdpZHRoOiA2MCU7CiAgICB9CiAgfQoKICBAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxNDAxcHgpIGFuZCAobWF4LXdpZHRoOiAxNjQwcHgpIHsKICAgIC5lbC1kaWFsb2cgewogICAgICB3aWR0aDogNzAlOwogICAgfQogIH0KCiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTQwMHB4KSB7CiAgICAuZWwtZGlhbG9nIHsKICAgICAgd2lkdGg6IDgwJTsKICAgIH0KICB9CgogIC52dWUtZGlyZWN0aXZlLWltYWdlLXByZXZpZXdlciB7CiAgICB6LWluZGV4OiAxMDAwMDsKICB9Cn0K"},{"version":3,"sources":["logistics-view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4SA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"logistics-view.vue","sourceRoot":"src/components/purch","sourcesContent":["<template>\r\n  <div class=\"view-container\" id=\"container\">\r\n    <!-- <h1>物流</h1> -->\r\n    <div v-show=\"logisticsViewList.length == 0\" ref=\"hello\" style=\"margin-top: 100px;text-align: center;\">\r\n      <span>数据加载中...</span>\r\n    </div>\r\n    <div v-if=\"logisticsViewList.length !== 0\">\r\n      <div class=\"view\" v-for=\"(item,index) in logisticsViewList\" :key=\"index\">\r\n        <div class=\"purchase-row\">\r\n          <span class=\"purchase-number\">物流单号: {{\" \" + item.LOG_id}}</span>\r\n          <span class=\"purchase-date\">发货时间: {{item.LOG_sendtime}}</span>\r\n        </div>\r\n        <table class=\"view-table\">\r\n          <tr>\r\n            <th>抵达仓库名称</th>\r\n            <th>总运费金额</th>\r\n            <th>物流状态</th>\r\n            <th>操作</th>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"first-td\">{{item.LOG_warehouse}}</td>\r\n            <td>{{'HKD '+formatNumberRgx(item.LOG_money)}}</td>\r\n            <td>\r\n              <div style=\"display: flex;justify-content:center;\">\r\n                <span>{{item.LOG_state == 1 ? \"运输中\" : \"已到达仓库\"}}</span>\r\n                <div style=\"padding-top: 3px;margin-left: 5px;\">\r\n                  <img :src=\"item.LOG_state == 1 ? img1 : img2\" style=\"width: 20px;height: 20px;\" />\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td class=\"last-td\">\r\n              <el-button type=\"text\" @click=\"viewDetails(item)\">详细信息</el-button>\r\n              <el-dialog title=\"详细物流信息\" :visible.sync=\"dialogVisible\">\r\n                <div style=\"text-align: left;\">\r\n                  <div class=\"details-container\">\r\n                    <el-form label-width=\"20%\">\r\n                      <el-form-item label=\"预计到达时间：\" v-if=\"details.LOG_state == 1\">\r\n                        <el-date-picker v-model=\"details.LOG_arrivetime\" type=\"date\" placeholder=\"date\"\r\n                          class=\"input-style\" readonly></el-date-picker>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"到达仓库时间：\" v-if=\"details.LOG_state == 2\">\r\n                        <el-date-picker v-model=\"details.LOG_arrivetime\" type=\"date\" placeholder=\"date\"\r\n                          class=\"input-style\" readonly></el-date-picker>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"到达仓库：\">\r\n                        <el-input v-model=\"details.LOG_warehouse\" class=\"input-style\"\r\n                          style=\"width: 60%;height: auto;line-height: 40px;\" readonly></el-input>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"总运费：\">\r\n                        <el-input v-model=\"details.LOG_money\" style=\"width: 60%;height: auto;line-height: 40px;\"\r\n                          readonly>\r\n                          <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                    <div>\r\n                      <div style=\"margin: 15px 0;font-size: 20px;\">\r\n                        <span>共 {{nums}} 块手表</span>\r\n                        <!-- <span></span> -->\r\n                      </div>\r\n                      <div class=\"every-details\">\r\n                        <div style=\"font-size: 18px;\">\r\n                          <span>每块表详细信息：</span>\r\n                        </div>\r\n                        <table>\r\n                          <tr>\r\n                            <th class=\"table-th\">图片</th>\r\n                            <th class=\"table-th\">型号</th>\r\n                            <th class=\"table-th\">机芯号</th>\r\n                            <th class=\"table-th\">采购价</th>\r\n                            <th class=\"table-th\">物流状态</th>\r\n                            <th class=\"table-th\">运费</th>\r\n                          </tr>\r\n                          <tr v-for=\"(items,index) in details.LOG_watch\" :key=\"index\">\r\n                            <td class=\"first-td\">\r\n                              <img v-image-preview\r\n                                :src=\"items.buy_watchpics == null || items.buy_watchpics == '' ? '' : img + '/img/watch/'+ (items.buy_watchpics || '').split('|')[0]\"\r\n                                style=\"width: 100px;height: 100px;object-fit: cover;border-radius: 30px;\" />\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <span>{{items.buy_watchbrand}}</span>\r\n                              </div>\r\n                              <div>\r\n                                <span>{{items.buy_watchmodel}}</span>\r\n                              </div>\r\n                            </td>\r\n                            <!-- <td>{{items.buy_watchbrand +'-'+ items.buy_watchmodel}}</td> -->\r\n                            <td>{{items.buy_watchsn}}</td>\r\n                            <td>{{items.buy_watchcurrency}} {{formatNumberRgx(items.buy_watchprice)}}</td>\r\n                            <td>\r\n                              <!-- <span>{{items.LOG_state == 1 ? \"运输中\" : \"已到达仓库\"}}</span> -->\r\n                              <img :src=\"items.LOG_state == 2 || items.LOG_state > 2 ? img2 : img1\" />\r\n                            </td>\r\n                            <td class=\"last-td\">\r\n                              <div style=\"width: 100%;margin: 0 auto;border-bottom: 1px solid #2d4e65;display: flex;\">\r\n                                <input type=\"text\" v-model=\"items.LOG_moneyex\" class=\"freight-input\" readonly />\r\n                                <i slot=\"suffix\"\r\n                                  style=\"width: 50%;height: 40px;line-height: 40px;font-style:normal;color: #000;\">HKD</i>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div slot=\"footer\">\r\n                  <el-button @click=\"viewClick1\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"viewClick2\">确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div style=\"width: 100%;height: 50px;background-color: #f2f5f9;\">\r\n        <div style=\"margin:15px 0;position:absolute;right:10%;\">\r\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n            layout=\"total, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        img: this.$store.state.baseUrl,\r\n        total: 0,\r\n        page: 1,\r\n        pagenum: 10,\r\n        dialogVisible: false,\r\n        logisticsViewList: [],\r\n        img1: require(\"../../assets/imgs/carImg.png\"),\r\n        img2: require(\"../../assets/imgs/sureImg.png\"),\r\n        details: {},\r\n        nums: 0\r\n      };\r\n    },\r\n    props: [\"logisticsView\"],\r\n    mounted() {\r\n      this.handleView();\r\n      if (this.logisticsView.logisticsV == 1) {\r\n        this.handleView();\r\n      }\r\n    },\r\n    methods: {\r\n      // 获取已发货的商品物流信息\r\n      handleView() {\r\n        this.$axios\r\n          .post(this.$store.state.baseUrl + \"/LOGList\", {\r\n            page: this.page,\r\n            pagenum: this.pagenum\r\n          })\r\n          .then(res => {\r\n            console.log(\"我是已发货商品\");\r\n            console.log(res);\r\n            this.total = res.data.total;\r\n            this.logisticsViewList = res.data.lst;\r\n            if (this.logisticsViewList.length == 0) {\r\n              this.$refs.hello.innerText = \"啊哦~暂无数据\";\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      // 分页\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        console.log(this.page);\r\n        this.handleView();\r\n        // 换页回到顶部\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      // 点击查看详情\r\n      viewDetails(details) {\r\n        console.log(\"要查看物流详情了哦\");\r\n        console.log(details);\r\n        this.details = details;\r\n        this.nums = this.details.LOG_watch.length;\r\n        this.dialogVisible = true;\r\n      },\r\n      viewClick1() {\r\n        this.handleView();\r\n        this.dialogVisible = false;\r\n      },\r\n      viewClick2() {\r\n        this.handleView();\r\n        this.dialogVisible = false;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .view-container {\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    padding-bottom: 20px;\r\n\r\n    .view {\r\n      width: 100%;\r\n      margin-top: 20px;\r\n      background-color: #fff;\r\n      border-radius: 30px;\r\n\r\n      .purchase-row {\r\n        padding-top: 50px;\r\n        padding-left: 30px;\r\n\r\n        .purchase-number {\r\n          font-size: 22px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .purchase-date {\r\n          margin-left: 30px;\r\n          color: #c8c8c8;\r\n        }\r\n      }\r\n\r\n      .view-table {\r\n        width: 100%;\r\n        padding: 20px;\r\n        margin: 0 auto;\r\n\r\n        td {\r\n          background-color: #f2f5f7;\r\n          font-size: 17px;\r\n        }\r\n\r\n        .first-td {\r\n          padding: 30px;\r\n          border-top-left-radius: 30px;\r\n          border-bottom-left-radius: 30px;\r\n        }\r\n\r\n        .last-td {\r\n          border-top-right-radius: 30px;\r\n          border-bottom-right-radius: 30px;\r\n\r\n          .details-container {\r\n            .every-details {\r\n              padding: 20px;\r\n              padding-bottom: 0;\r\n              border-radius: 30px;\r\n              border: 1px solid #ddd;\r\n\r\n              .table-th {\r\n                font-size: 16px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .freight-input {\r\n      width: 90%;\r\n      height: 40px;\r\n      border: 0;\r\n      outline: none;\r\n      background-color: transparent;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .input-style{\r\n    width: 60% !important;\r\n  }\r\n  table {\r\n    width: 100%;\r\n    table-layout: fixed;\r\n    border-collapse: separate;\r\n    border-spacing: 0 30px;\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 16%; // 100/6\r\n        text-align: center;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #container {\r\n\r\n    .el-form-item::after,\r\n    .el-form-item::before {\r\n      display: none;\r\n      content: \"\";\r\n    }\r\n\r\n    .el-form-item__content::after,\r\n    .el-form-item__content::before {\r\n      display: none;\r\n      content: \"\";\r\n    }\r\n\r\n    .el-dialog__title {\r\n      font-size: 20px;\r\n    }\r\n\r\n    @media screen and (min-width: 1801px) {\r\n      .el-dialog {\r\n        width: 55%;\r\n      }\r\n    }\r\n\r\n    @media screen and (min-width: 1641px) and (max-width: 1800px) {\r\n      .el-dialog {\r\n        width: 60%;\r\n      }\r\n    }\r\n\r\n    @media screen and (min-width: 1401px) and (max-width: 1640px) {\r\n      .el-dialog {\r\n        width: 70%;\r\n      }\r\n    }\r\n\r\n    @media screen and (max-width: 1400px) {\r\n      .el-dialog {\r\n        width: 80%;\r\n      }\r\n    }\r\n\r\n    .vue-directive-image-previewer {\r\n      z-index: 10000;\r\n    }\r\n  }\r\n</style>"]}]}