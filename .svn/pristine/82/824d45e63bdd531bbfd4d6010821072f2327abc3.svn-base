{"remainingRequest":"D:\\aa-tong\\my-projects\\watches\\node_modules\\babel-loader\\lib\\index.js!D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches\\src\\components\\purch\\Commission-admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches\\src\\components\\purch\\Commission-admin.vue","mtime":1598243030403},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598242954443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\babel-loader\\lib\\index.js","mtime":1598242948433},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598242954443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js","mtime":1598243025443}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtc2c6ICfmlbDmja7liqDovb3kuK0uLi4nLAogICAgICBwYWdlOiAxLAogICAgICBwYWdlTnVtOiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHVuQ2hlY2tUb3RhbDogMCwKICAgICAgLy8g5pyq57uT56yU5pWwICDpnIDov5TlupfmlbDph48KICAgICAgdW5DaGVja01vbmV5OiAwLAogICAgICAvLyDmnKrnu5Pph5Hpop0KICAgICAgYmFja1N0b3JlVG90YWw6IDAsCiAgICAgIC8vIOmcgOi/lOW6l+aVsOmHjwogICAgICBjb21taXNzaW9uTGlzdDogW10sCiAgICAgIGRldGFpbHNTZWxlY3Q6IHsKICAgICAgICBpZDogMSwKICAgICAgICBudW06IDAsCiAgICAgICAgYnV5X2NvbW1TdGF0ZTogMAogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IFsiY29tbWlzc2lvblNlbCJdLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmhhbmRsZUNvbW1pc3Npb24oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluS9o+mHkeWIl+ihqAogICAgaGFuZGxlQ29tbWlzc2lvbjogZnVuY3Rpb24gaGFuZGxlQ29tbWlzc2lvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubXNnID0gJ+aVsOaNruWKoOi9veS4rS4uLic7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICcvQnV5T3JkZXJDb21tTGlzdD9qYXZhJywgewogICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+S9o+mHkeWIl+ihqCcpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMudW5DaGVja1RvdGFsID0gcmVzLmRhdGEudW5DaGVja1RvdGFsOwogICAgICAgIF90aGlzLnVuQ2hlY2tNb25leSA9IHJlcy5kYXRhLnVuQ2hlY2tNb25leS50b0ZpeGVkKDIpOwogICAgICAgIF90aGlzLmJhY2tTdG9yZVRvdGFsID0gcmVzLmRhdGEuYmFja1N0b3JlVG90YWw7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICBfdGhpcy5jb21taXNzaW9uTGlzdCA9IHJlcy5kYXRhLmxpc3RzOwoKICAgICAgICBpZiAoX3RoaXMuY29tbWlzc2lvbkxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgIF90aGlzLm1zZyA9ICfllYrlk6Z+5pqC5peg5pWw5o2uJzsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmn6XnnIvor6bmg4UKICAgIGNoZWNrRGV0YWlsczogZnVuY3Rpb24gY2hlY2tEZXRhaWxzKGlkKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImJ1eV9pZCIsIGlkKTsKICAgICAgdGhpcy5jb21taXNzaW9uU2VsLnNlbGVjdCA9IDE7CiAgICAgIHRoaXMuZGV0YWlsc1NlbGVjdC5udW0gPSA0OwoKICAgICAgKGZ1bmN0aW9uIHNtb290aHNjcm9sbCgpIHsKICAgICAgICB2YXIgY3VycmVudFNjcm9sbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgICAgIGlmIChjdXJyZW50U2Nyb2xsID4gMCkgewogICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzbW9vdGhzY3JvbGwpOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGN1cnJlbnRTY3JvbGwgLSBjdXJyZW50U2Nyb2xsIC8gNSk7CiAgICAgICAgfQogICAgICB9KSgpOwogICAgfSwKICAgIC8vIOWIhumhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coIlx1NUY1M1x1NTI0RFx1OTg3NTogIi5jb25jYXQodmFsKSk7CiAgICAgIHRoaXMucGFnZSA9IHZhbDsKICAgICAgY29uc29sZS5sb2codGhpcy5wYWdlKTsKICAgICAgdGhpcy5oYW5kbGVDb21taXNzaW9uKCk7CgogICAgICAoZnVuY3Rpb24gc21vb3Roc2Nyb2xsKCkgewogICAgICAgIHZhciBjdXJyZW50U2Nyb2xsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKCiAgICAgICAgaWYgKGN1cnJlbnRTY3JvbGwgPiAwKSB7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNtb290aHNjcm9sbCk7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgY3VycmVudFNjcm9sbCAtIGN1cnJlbnRTY3JvbGwgLyA1KTsKICAgICAgICB9CiAgICAgIH0pKCk7CiAgICB9LAogICAgZ29iYWNrOiBmdW5jdGlvbiBnb2JhY2sodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgIHRoaXMuY29tbWlzc2lvblNlbC5zZWxlY3QgPSAwOwogICAgICB0aGlzLmhhbmRsZUNvbW1pc3Npb24oKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Commission-admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- <h3>佣金管理页面</h3> -->\r\n    <div v-if=\"commissionSel.select == 0\">\r\n      <div v-show=\"commissionList.length == 0\" style=\"text-align: center;\">\r\n        <p>{{msg}}</p>\r\n      </div>\r\n      <div v-show=\"commissionList.length !== 0\" class=\"commission-container\">\r\n        <div class=\"container-top\">\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-left\">{{unCheckTotal}}</p>\r\n            未结笔数\r\n          </div>\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-center\" style=\"color: #ea5b29;\">{{formatNumberRgx(unCheckMoney) + ' ' + 'HKD'}}</p>\r\n            未结金额\r\n          </div>\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-right\">{{backStoreTotal}}</p>\r\n            需返店城市\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <table v-for=\"(item,index) in commissionList\" :key=\"index\" style=\"margin-bottom: 20px;\">\r\n            <tr>\r\n              <th>采购单号</th>\r\n              <th>采购时间</th>\r\n              <th v-show=\"item.type == 0\">返店地点</th>\r\n              <th>佣金金额</th>\r\n              <th>操作</th>\r\n            </tr>\r\n            <tr>\r\n              <td>{{item.obj.buy_id}}</td>\r\n              <td>{{item.obj.buy_date}}</td>\r\n              <td v-show=\"item.type == 0\">\r\n                {{item.obj.city_CN == null || item.obj.city_CN == '' ? item.obj.country_CN : item.obj.city_CN + ' / ' + item.obj.country_CN}}\r\n              </td>\r\n              <td>{{formatNumberRgx(item.obj.buy_commMoney) + ' ' +item.obj.buy_commCurrency}}</td>\r\n              <td>\r\n                <el-button type=\"text\" @click=\"checkDetails(item.obj.buy_id)\">查看详情</el-button>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          <div style=\"width: 100%;height: 63px;\">\r\n            <div style=\"margin:15px 0;position:absolute;right:10%;\">\r\n              <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n                layout=\"total, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"commissionSel.select == 1\">\r\n      <Details @goback=\"goback\" :detailsSelect=\"detailsSelect\"></Details>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: '数据加载中...',\r\n        page: 1,\r\n        pageNum: 10,\r\n        total: 0,\r\n        unCheckTotal: 0, // 未结笔数  需返店数量\r\n        unCheckMoney: 0, // 未结金额\r\n        backStoreTotal: 0, // 需返店数量\r\n        commissionList: [],\r\n        detailsSelect: {\r\n          id: 1,\r\n          num: 0,\r\n          buy_commState: 0\r\n        },\r\n\r\n      }\r\n    },\r\n    props: [\"commissionSel\"],\r\n    mounted() {\r\n      this.handleCommission();\r\n    },\r\n    methods: {\r\n      // 获取佣金列表\r\n      handleCommission() {\r\n        this.msg = '数据加载中...';\r\n        this.$axios.post(this.$store.state.baseUrl + '/BuyOrderCommList?java', {\r\n          page: this.page,\r\n          pageNum: this.pageNum\r\n        }).then((res) => {\r\n          console.log('佣金列表');\r\n          console.log(res);\r\n          this.unCheckTotal = res.data.unCheckTotal;\r\n          this.unCheckMoney = res.data.unCheckMoney.toFixed(2);\r\n          this.backStoreTotal = res.data.backStoreTotal;\r\n          this.total = res.data.total;\r\n          this.commissionList = res.data.lists;\r\n          if (this.commissionList.length == 0) {\r\n            this.msg = '啊哦~暂无数据';\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 查看详情\r\n      checkDetails(id) {\r\n        sessionStorage.setItem(\"buy_id\", id);\r\n        this.commissionSel.select = 1;\r\n        this.detailsSelect.num = 4;\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      // 分页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        console.log(this.page);\r\n        this.handleCommission();\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      goback(val) {\r\n        console.log(val);\r\n        this.commissionSel.select = 0;\r\n        this.handleCommission();\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .commission-container {\r\n    width: 91%;\r\n    margin: 0 auto;\r\n    padding: 30px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n    .container-top {\r\n      margin-bottom: 30px;\r\n      padding: 0 82px 20px 82px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      .font-style {\r\n        font-size: 16px;\r\n        color: #c0c0c0;\r\n        text-align: center;\r\n\r\n        .style-top-left,\r\n        .style-top-center,\r\n        .style-top-right {\r\n          font-size: 20px;\r\n          font-weight: bold;\r\n          color: #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  td {\r\n    height: 60px;\r\n    margin: 10px 0;\r\n    padding: 20px 0;\r\n    background-color: #f3fbf9;\r\n    font-size: 15px;\r\n    text-align: center;\r\n  }\r\n\r\n  .font-style {\r\n    margin: 0;\r\n    margin-top: 10px;\r\n    color: #0aa1ed;\r\n    font-size: 15px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    table-layout: fixed;\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 20%;\r\n        text-align: center;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/components/purch"}]}