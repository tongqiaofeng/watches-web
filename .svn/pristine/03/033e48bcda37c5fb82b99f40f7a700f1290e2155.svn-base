{"remainingRequest":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\Bank-statement.vue?vue&type=style&index=0&id=2091818f&lang=scss&scoped=true&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\Bank-statement.vue","mtime":1598247915220},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\css-loader\\dist\\cjs.js","mtime":1598242965053},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1598243025443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\postcss-loader\\src\\index.js","mtime":1598243002637},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1598243018143},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598242954443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js","mtime":1598243025443}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5iYW5rLXN0YXRlbWVudC1jb250YWluZXIgewogIHdpZHRoOiA5MCU7CiAgbWFyZ2luOiAwIGF1dG87CiAgcGFkZGluZzogNDBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGJvcmRlci1yYWRpdXM6IDMwcHg7CgogIC5hZGRCdG4gewogICAgd2lkdGg6IDE0NHB4OwogICAgaGVpZ2h0OiA0OHB4OwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgIGxpbmUtaGVpZ2h0OiA0OHB4OwogICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzBjNzA2MzsKCiAgICAuYWRkLXN0eWxlIHsKICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjZmZmOwogICAgfQogIH0KCiAgLmJhbmstdGFibGUgewogICAgd2lkdGg6IDEwMCU7CgogICAgLnRhZy1yZWFkIHsKICAgICAgd2lkdGg6IDIwcHg7CiAgICAgIGhlaWdodDogMjBweDsKICAgICAgbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgYm9yZGVyOiAwOwogICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWdzL2NvcHkucG5nJykgbm8tcmVwZWF0OwogICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CgogICAgdGggewogICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDdlYmU3OwogICAgfQoKICAgIHRkIHsKICAgICAgcGFkZGluZzogMjBweDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YzZmJmOTsKICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkN2ViZTc7CiAgICB9CgogICAgLmltZy1zdHlsZSB7CiAgICAgIHdpZHRoOiA3MHB4OwogICAgICBoZWlnaHQ6IDcwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7CiAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgfQogIH0KCiAgLmJhbmstdGFibGUgdHI6aG92ZXI+dGQgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZWJlNyAhaW1wb3J0YW50OwogIH0KfQoKLmlucHV0LXN0eWxlIHsKICB3aWR0aDogNjAlICFpbXBvcnRhbnQ7Cn0KCnRhYmxlIHsKICB3aWR0aDogMTAwJTsKICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlOwogIGJvcmRlci1zcGFjaW5nOiAwOwp9Cgp0ciB7CgogIHRoLAogIHRkIHsKICAgIHdpZHRoOiAyNSU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQp9Cg=="},{"version":3,"sources":["Bank-statement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4TA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Bank-statement.vue","sourceRoot":"src/components/views","sourcesContent":["<template>\r\n  <div class=\"bank-statement-container\">\r\n    <!-- 银行卡管理 -->\r\n    <div class=\"addBtn\" @click=\"addBank\">\r\n      <span class=\"add-style\">\r\n        <span>+</span> 新增银行卡\r\n      </span>\r\n    </div>\r\n    <el-dialog title=\"新增银行卡\" :visible.sync=\"dialogAddBankVisible\" center :close-on-press-escape=\"false\"\r\n      :close-on-click-modal=\"false\">\r\n      <div>\r\n        <el-form label-width=\"130px\">\r\n          <el-form-item label=\"银行卡名称：\" required>\r\n            <el-autocomplete class=\"inline-input input-style\" v-model=\"bankName\" :fetch-suggestions=\"querySearch\"\r\n              placeholder=\"请输入内容\" @select=\"handleSelect\"></el-autocomplete>\r\n          </el-form-item>\r\n          <el-form-item label=\"银行卡卡号：\" required>\r\n            <el-input v-model=\"bankAccount\" class=\"input-style\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"备注：\">\r\n            <el-input type=\"textarea\" v-model=\"remark\" class=\"input-style\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"dialogAddBankVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addBankSure\" v-preventClick>确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <div v-if=\"bankList.length == 0\" style=\"text-align: center;\">\r\n      <p>{{bankMsg}}</p>\r\n    </div>\r\n    <div class=\"bank-table\" v-else>\r\n      <table>\r\n        <tr>\r\n          <th></th>\r\n          <th>名称</th>\r\n          <th>卡号</th>\r\n          <th>操作</th>\r\n        </tr>\r\n        <tr v-for=\"(item,index) in bankList\" :key=\"index\">\r\n          <td>\r\n            <!-- <div :style=\"{backgroundImage: 'url(' +  url +  item.backGroundImage + ')', backgroundSize:'contain'}\"> -->\r\n            <img class=\"img-style\" :src=\"item.logo == null || item.logo == '' ? '' :  url + item.logo\" />\r\n            <!-- </div> -->\r\n          </td>\r\n          <td>{{item.bankName}}</td>\r\n          <td>\r\n            <span>{{item.bankAccount}}</span>\r\n            <button class=\"tag-read\" :data-clipboard-text=\"item.bankAccount\" @click=\"copy\"></button>\r\n          </td>\r\n          <td>\r\n            <el-tooltip class=\"item\" effect=\"light\" content=\"修改银行卡信息\" placement=\"top-end\">\r\n              <img src=\"../../assets/imgs/update.png\" style=\"margin-left: 30px;cursor:pointer;\"\r\n                @click=\"bankUpdate(item)\" />\r\n            </el-tooltip>\r\n            <el-dialog title=\"修改银行卡信息\" :visible.sync=\"dialogUpdateBankVisible\" center>\r\n              <div>\r\n                <el-form label-width=\"130px\">\r\n                  <el-form-item label=\"银行卡名称：\" required>\r\n                    <el-autocomplete class=\"inline-input input-style\" v-model=\"bankName\"\r\n                      :fetch-suggestions=\"querySearch\" placeholder=\"请输入内容\" @select=\"handleSelect\"></el-autocomplete>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"银行卡卡号：\" required>\r\n                    <el-input v-model=\"bankAccount\" class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"备注：\">\r\n                    <el-input type=\"textarea\" v-model=\"remark\" class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <el-button @click=\"dialogUpdateBankVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"bankUpdateSure\" v-preventClick>确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n            <el-tooltip class=\"item\" effect=\"light\" content=\"删除银行卡信息\" placement=\"top-end\">\r\n              <img src=\"../../assets/imgs/delete.png\" style=\"margin-left: 30px;cursor:pointer;\"\r\n                @click=\"bankDelete(item.id)\" />\r\n            </el-tooltip>\r\n            <el-dialog title=\"删除银行卡信息\" :visible.sync=\"dialogDeleteBankVisible\" center>\r\n              <div style=\"text-align: center;\">\r\n                <p>确定删除该银行卡信息？删除后不可恢复</p>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <el-button @click=\"dialogDeleteBankVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"bankDeleteSure\" v-preventClick>确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Clipboard from 'clipboard';\r\n  export default {\r\n    data() {\r\n      return {\r\n        url: this.$store.state.baseUrl,\r\n        dialogAddBankVisible: false,\r\n        bankMsg: '数据加载中...',\r\n        bankList: [],\r\n        dialogUpdateBankVisible: false,\r\n        dialogDeleteBankVisible: false,\r\n        bankNameList: [{\r\n          name: '工商银行'\r\n        }, {\r\n          name: '中国银行'\r\n        }, {\r\n          name: '建设银行'\r\n        }, {\r\n          name: '招商银行'\r\n        }, {\r\n          name: '交通银行'\r\n        }, {\r\n          name: '农业银行'\r\n        }, {\r\n          name: '汇丰银行'\r\n        }, {\r\n          name: '花旗银行'\r\n        }, {\r\n          name: '恒生银行'\r\n        }],\r\n        bankName: '', // 银行卡名称\r\n        bankAccount: '', // 卡号\r\n        remark: '', // 备注\r\n        updateId: 0,\r\n        deleteId: 0,\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getbankCardList();\r\n    },\r\n    methods: {\r\n      // 获取银行卡列表\r\n      getbankCardList() {\r\n        this.bankMsg = '数据加载中...';\r\n        this.$axios.post(this.url + '/bankCardList?java').then(res => {\r\n          console.log('获取银行卡列表');\r\n          console.log(res);\r\n          this.bankList = res.data;\r\n          if (this.bankList.length == 0) {\r\n            this.bankMsg = '啊哦~暂无数据';\r\n          }\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 复制银行卡号\r\n      copy() {\r\n        let clipboard = new Clipboard('.tag-read')\r\n        clipboard.on('success', e => {\r\n          this.$message.success({\r\n            message: '复制成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          console.log('复制成功')\r\n          // 释放内存\r\n          clipboard.destroy()\r\n        })\r\n        clipboard.on('error', e => {\r\n          // 不支持复制\r\n          this.$message.error({\r\n            message: '复制失败，该浏览器不支持自动复制',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          console.log('该浏览器不支持自动复制')\r\n          // 释放内存\r\n          clipboard.destroy()\r\n        })\r\n      },\r\n      // 增加银行卡\r\n      addBank() {\r\n        this.bankName = '';\r\n        this.bankAccount = '';\r\n        this.remark = '';\r\n        this.dialogAddBankVisible = true;\r\n      },\r\n      // 银行卡名称选择\r\n      querySearch(queryString, cb) {\r\n        console.log(this.bankNameList);\r\n        let restaurants = this.bankNameList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleSelect(item) {\r\n        console.log(item);\r\n        this.bankName = item.value;\r\n      },\r\n      // 确定增加\r\n      addBankSure() {\r\n        if (this.bankName == '' || this.bankAccount == '') {\r\n          this.$message.error({\r\n            message: '数据不能为空，请检查数据填写',\r\n            showClose: true,\r\n            duration: 2000\r\n          })\r\n        } else {\r\n          this.$axios.post(this.url + '/bankCardSave?java', {\r\n            bankName: this.bankName,\r\n            bankAccount: this.bankAccount,\r\n            remark: this.remark\r\n          }).then(res => {\r\n            console.log('增加银行卡');\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: '新增银行卡成功',\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogAddBankVisible = false;\r\n            this.getbankCardList();\r\n          }).catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogAddBankVisible = false;\r\n          })\r\n        }\r\n      },\r\n      // 修改银行卡信息\r\n      bankUpdate(item) {\r\n        this.updateId = item.id;\r\n        this.bankName = item.bankName;\r\n        this.bankAccount = item.bankAccount;\r\n        this.remark = item.remark;\r\n        this.dialogUpdateBankVisible = true;\r\n      },\r\n      // 确定修改\r\n      bankUpdateSure() {\r\n        if (this.bankName == '' || this.bankAccount == '') {\r\n          this.$message.error({\r\n            message: '数据不能为空，请检查数据填写',\r\n            showClose: true,\r\n            duration: 2000\r\n          })\r\n        } else {\r\n          this.$axios.post(this.url + '/bankCardSave?java', {\r\n            id: this.updateId,\r\n            bankName: this.bankName,\r\n            bankAccount: this.bankAccount,\r\n            remark: this.remark\r\n          }).then(res => {\r\n            console.log('修改银行卡');\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: '修改银行卡信息成功',\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogUpdateBankVisible = false;\r\n            this.getbankCardList();\r\n          }).catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogUpdateBankVisible = false;\r\n          })\r\n        }\r\n      },\r\n      // 删除银行卡信息\r\n      bankDelete(id) {\r\n        this.deleteId = id;\r\n        this.dialogDeleteBankVisible = true;\r\n      },\r\n      // 确定删除\r\n      bankDeleteSure() {\r\n        this.$axios.post(this.url + '/delBankCard?java', {\r\n          id: this.deleteId\r\n        }).then(res => {\r\n          console.log('删除银行卡');\r\n          console.log(res);\r\n          this.$message.success({\r\n            message: '删除银行卡信息成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogDeleteBankVisible = false;\r\n          this.getbankCardList();\r\n        }).catch(err => {\r\n          console.log(err);\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogDeleteBankVisible = false;\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .bank-statement-container {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    padding: 40px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n    .addBtn {\r\n      width: 144px;\r\n      height: 48px;\r\n      margin-bottom: 30px;\r\n      line-height: 48px;\r\n      border-radius: 6px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      background-color: #0c7063;\r\n\r\n      .add-style {\r\n        display: inline-block;\r\n        font-size: 16px;\r\n        color: #fff;\r\n      }\r\n    }\r\n\r\n    .bank-table {\r\n      width: 100%;\r\n\r\n      .tag-read {\r\n        width: 20px;\r\n        height: 20px;\r\n        margin-left: 5px;\r\n        border: 0;\r\n        background: url('../../assets/imgs/copy.png') no-repeat;\r\n        background-size: cover;\r\n        cursor: pointer;\r\n      }\r\n\r\n      th {\r\n        height: 50px;\r\n        line-height: 50px;\r\n        background-color: #d7ebe7;\r\n      }\r\n\r\n      td {\r\n        padding: 20px;\r\n        background-color: #f3fbf9;\r\n        border-bottom: 1px solid #d7ebe7;\r\n      }\r\n\r\n      .img-style {\r\n        width: 70px;\r\n        height: 70px;\r\n        border-radius: 30px;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n\r\n    .bank-table tr:hover>td {\r\n      background-color: #d7ebe7 !important;\r\n    }\r\n  }\r\n\r\n  .input-style {\r\n    width: 60% !important;\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n  }\r\n\r\n  tr {\r\n\r\n    th,\r\n    td {\r\n      width: 25%;\r\n      text-align: center;\r\n    }\r\n  }\r\n</style>"]}]}