{"remainingRequest":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\Record.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\Record.vue","mtime":1597744381511},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsOiB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsLAogICAgICBjb3VudHJ5TGlzdDogW10sCiAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgdXNlcklkOiAnJywgLy8g55So5oi3CiAgICAgIHN1Yk1vbmV5OiAnJywgLy8g55Sz6K+36YeR6aKdCiAgICAgIGN1cnJlbmN5OiAnJywgLy8g5biB56eNCiAgICAgIHR5cGU6ICfpk7booYzljaEnLAogICAgICBiYW5rTGlzdDogW10sCiAgICAgIGJhbmtBY2NvdW50OiAnJywKICAgICAgYmFua0lkOiAwLAogICAgICBkaWFsb2dBZGRCYW5rVmlzaWJsZTogZmFsc2UsCiAgICAgIGJhbmtOYW1lTGlzdDogW3sKICAgICAgICBuYW1lOiAn5bel5ZWG6ZO26KGMJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+S4reWbvemTtuihjCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICflu7rorr7pk7booYwnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5oub5ZWG6ZO26KGMJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+S6pOmAmumTtuihjCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICflhpzkuJrpk7booYwnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rGH5Liw6ZO26KGMJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+iKseaXl+mTtuihjCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmgZLnlJ/pk7booYwnCiAgICAgIH1dLAogICAgICBiYW5rTmFtZTogJycsIC8vIOmTtuihjOWNoeWQjeensAogICAgICBiYW5rQWNjb3VudDogJycsIC8vIOWNoeWPtwogICAgICByZW1hcms6ICcnLCAvLyDlpIfms6gKICAgICAgZGVzY3JpYmU6ICcnLAogICAgICBwYXJhbXM6IHt9LAogICAgfQogIH0sCiAgcHJvcHM6IFsncmVjb3JkU2VsZWN0J10sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaGFuZGxlQ291bnRyeUdldCgpOwogICAgdGhpcy5oYW5kbGViYW5rQ2FyZExpc3QoKTsKICAgIHRoaXMuaGFuZGxlVXNlckxpc3RJbmZvKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgY3VycmVuY3lMaXN0KCkgewogICAgICBsZXQgbGlzdCA9IFtdOwogICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuY291bnRyeUxpc3QpIHsKICAgICAgICBpZiAobGlzdC5pbmRleE9mKGl0ZW0uZW5DdXJyZW5jeSkgPT09IC0xKSB7CiAgICAgICAgICBsaXN0LnB1c2goaXRlbS5lbkN1cnJlbmN5KTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGxpc3QpOwogICAgICByZXR1cm4gbGlzdDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VOaWNrKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJJZCk7CiAgICB9LAogICAgLy8g6ZO26KGM5Y2h5Y+36YCJ5oupCiAgICBxdWVyeVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5iYW5rTGlzdCk7CiAgICAgIGxldCByZXN0YXVyYW50cyA9IHRoaXMuYmFua0xpc3Q7CiAgICAgIGZvciAobGV0IGl0ZW1zIG9mIHJlc3RhdXJhbnRzKSB7CiAgICAgICAgaXRlbXMudmFsdWUgPSBpdGVtcy5iYW5rTmFtZSArICcgJyArIGl0ZW1zLmJhbmtBY2NvdW50OwogICAgICAgIGl0ZW1zLmlkID0gaXRlbXMuaWQ7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdHMgPSBxdWVyeVN0cmluZyA/IHJlc3RhdXJhbnRzLmZpbHRlcih0aGlzLmNyZWF0ZUZpbHRlcihxdWVyeVN0cmluZykpIDogcmVzdGF1cmFudHM7CiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpOwogICAgICAvLyDosIPnlKggY2FsbGJhY2sg6L+U5Zue5bu66K6u5YiX6KGo55qE5pWw5o2uCiAgICAgIGNiKHJlc3VsdHMpOwogICAgfSwKICAgIGNyZWF0ZUZpbHRlcihxdWVyeVN0cmluZykgewogICAgICByZXR1cm4gKHJlc3RhdXJhbnQpID0+IHsKICAgICAgICByZXR1cm4gKHJlc3RhdXJhbnQuYmFua0FjY291bnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID09PSAwKTsKICAgICAgfTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3QoaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgdGhpcy5iYW5rQWNjb3VudCA9IGl0ZW0udmFsdWU7CiAgICAgIHRoaXMuYmFua0lkID0gaXRlbS5pZDsKICAgICAgY29uc29sZS5sb2codGhpcy5iYW5rQWNjb3VudCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmFua0lkKTsKICAgIH0sCiAgICAvLyDmlrDlop7pk7booYzljaEKICAgIGFkZEJhbmsoKSB7CiAgICAgIHRoaXMuYmFua05hbWUgPSAnJzsKICAgICAgdGhpcy5iYW5rQWNjb3VudCA9ICcnOwogICAgICB0aGlzLnJlbWFyayA9ICcnOwogICAgICB0aGlzLmRpYWxvZ0FkZEJhbmtWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDpk7booYzljaHlkI3np7DpgInmi6kKICAgIHF1ZXJ5QmFua05hbWVTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmFua05hbWVMaXN0KTsKICAgICAgbGV0IHJlc3RhdXJhbnRzID0gdGhpcy5iYW5rTmFtZUxpc3Q7CiAgICAgIGZvciAobGV0IGl0ZW1zIG9mIHJlc3RhdXJhbnRzKSB7CiAgICAgICAgaXRlbXMudmFsdWUgPSBpdGVtcy5uYW1lOwogICAgICB9CiAgICAgIGxldCByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyByZXN0YXVyYW50cy5maWx0ZXIodGhpcy5jcmVhdGVCYW5rTmFtZUZpbHRlcihxdWVyeVN0cmluZykpIDogcmVzdGF1cmFudHM7CiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpOwogICAgICAvLyDosIPnlKggY2FsbGJhY2sg6L+U5Zue5bu66K6u5YiX6KGo55qE5pWw5o2uCiAgICAgIGNiKHJlc3VsdHMpOwogICAgfSwKICAgIGNyZWF0ZUJhbmtOYW1lRmlsdGVyKHF1ZXJ5U3RyaW5nKSB7CiAgICAgIHJldHVybiAocmVzdGF1cmFudCkgPT4gewogICAgICAgIHJldHVybiAocmVzdGF1cmFudC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpKSA9PT0gMCk7CiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlQmFua05hbWVTZWxlY3QoaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgdGhpcy5iYW5rTmFtZSA9IGl0ZW0udmFsdWU7CiAgICB9LAogICAgLy8g56Gu5a6a5aKe5YqgCiAgICBhZGRCYW5rU3VyZSgpIHsKICAgICAgaWYgKHRoaXMuYmFua05hbWUgPT0gJycgfHwgdGhpcy5iYW5rQWNjb3VudCA9PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+aVsOaNruS4jeiDveS4uuepuu+8jOivt+ajgOafpeaVsOaNruWhq+WGmScsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybCArICcvYmFua0NhcmRTYXZlP2phdmEnLCB7CiAgICAgICAgICBiYW5rTmFtZTogdGhpcy5iYW5rTmFtZSwKICAgICAgICAgIGJhbmtBY2NvdW50OiB0aGlzLmJhbmtBY2NvdW50LAogICAgICAgICAgcmVtYXJrOiB0aGlzLnJlbWFyawogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCflop7liqDpk7booYzljaEnKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICB0aGlzLmJhbmtBY2NvdW50ID0gcmVzLmRhdGEuYmFua05hbWUgKyAnICcgKyByZXMuZGF0YS5iYW5rQWNjb3VudDsKICAgICAgICAgIHRoaXMuYmFua0lkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe6ZO26KGM5Y2h5oiQ5YqfJywKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmRpYWxvZ0FkZEJhbmtWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmRpYWxvZ0FkZEJhbmtWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOaVsOaNrumqjOivgQogICAgYm9ycm93UmVjb3JkQWRkKCkgewogICAgICBpZiAodGhpcy50eXBlID09ICfpk7booYzljaEnKSB7CiAgICAgICAgaWYgKHRoaXMuc3ViTW9uZXkgPT0gJycgfHwgdGhpcy5jdXJyZW5jeSA9PSAnJyB8fCB0aGlzLmJhbmtBY2NvdW50ID09CiAgICAgICAgICAnJyB8fCB0aGlzLmRlc2NyaWJlID09ICcnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+aVsOaNruS4jeiDveS4uuepuu+8jOivt+ajgOafpeaVsOaNruWhq+WGmScsCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pCiAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnN1Yk1vbmV5ID09ICcnIHx8IHRoaXMuY3VycmVuY3kgPT0gJycgfHwgdGhpcy5kZXNjcmliZSA9PQogICAgICAgICAgJycpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICBtZXNzYWdlOiAn5pWw5o2u5LiN6IO95Li656m677yM6K+35qOA5p+l5pWw5o2u5aGr5YaZJywKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSkKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH07CiAgICAgIH0KICAgICAgaWYgKHRoaXMucmVjb3JkU2VsZWN0ID09ICdjb21wYW55JykgewogICAgICAgIHRoaXMucGFyYW1zID0gewogICAgICAgICAgZmxhZzogMCwKICAgICAgICAgIHVzZXJJZDogMCwKICAgICAgICAgIHN1Yk1vbmV5OiB0aGlzLnN1Yk1vbmV5LAogICAgICAgICAgY3VycmVuY3k6IHRoaXMuY3VycmVuY3ksCiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUgPT0gJ+mTtuihjOWNoScgPyAwIDogMSwKICAgICAgICAgIGlkOiB0aGlzLnR5cGUgPT0gJ+mTtuihjOWNoScgPyB0aGlzLmJhbmtJZCA6ICcnLAogICAgICAgICAgZGVzY3JpYmU6IHRoaXMuZGVzY3JpYmUKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSB7CiAgICAgICAgICBmbGFnOiB0aGlzLnJlY29yZFNlbGVjdCA9PSAnZmVsbG93JyA/IDAgOiAxLAogICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICAgIHN1Yk1vbmV5OiB0aGlzLnN1Yk1vbmV5LAogICAgICAgICAgY3VycmVuY3k6IHRoaXMuY3VycmVuY3ksCiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUgPT0gJ+mTtuihjOWNoScgPyAwIDogMSwKICAgICAgICAgIGlkOiB0aGlzLnR5cGUgPT0gJ+mTtuihjOWNoScgPyB0aGlzLmJhbmtJZCA6ICcnLAogICAgICAgICAgZGVzY3JpYmU6IHRoaXMuZGVzY3JpYmUKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5wYXJhbXMpOwogICAgICB0aGlzLnZlcmlmeUJvcnJvdyh0aGlzLnBhcmFtcyk7CiAgICB9LAogICAgLy8g5o+Q5Lqk55Sz6K+3CiAgICB2ZXJpZnlCb3Jyb3cocGFyYW1zKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwgKyAnL2JvcnJvd1JlY29yZEFkZD9qYXZhJywgcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+WinuWKoOWAn+i0t+iusOW9lScpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7orrDlvZXmiJDlip8nLAogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICB9KTsKICAgICAgICAvLyB0aGlzLm15Qm9ycm93U2VsZWN0LnNlbGVjdCA9IDA7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyci5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICAgIC8vIHRoaXMubXlCb3Jyb3dTZWxlY3Quc2VsZWN0ID0gMDsKICAgICAgfSkKICAgIH0sCiAgICAvLyDojrflj5bluIHnp43liJfooagKICAgIGhhbmRsZUNvdW50cnlHZXQoKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwgKyAnL0NvdW50cnlHZXQnKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn5Zu95a625YiX6KGoJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLmNvdW50cnlMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pCiAgICB9LAogICAgLy8g6I635Y+W6ZO26KGM5Y2h5YiX6KGoCiAgICBoYW5kbGViYW5rQ2FyZExpc3QoKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwgKyAnL2JhbmtDYXJkTGlzdD9qYXZhJykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfojrflj5bpk7booYzljaHliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuYmFua0xpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICAgIC8vIOiOt+WPlueUqOaIt+WIl+ihqAogICAgaGFuZGxlVXNlckxpc3RJbmZvKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMudXJsICsgJy91c2VyTGlzdEluZm8/amF2YScpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W55So5oi35YiX6KGoJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Record.vue","sourceRoot":"src/components/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"120px\">\r\n      <el-form-item label=\"用户列表：\" required v-show=\"recordSelect !== 'company'\">\r\n        <el-select v-model=\"userId\" placeholder=\"请选择用户\" @change=\"changeNick\">\r\n          <el-option v-for=\"item of userList\" :key=\"item.id\" :label=\"item.nick\" :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item :label=\"recordSelect == 'transfer' ? '转账金额：' : '申请金额：'\" required>\r\n        <div style=\"width: 100%;\">\r\n          <el-input v-model=\"subMoney\" placeholder=\"请输入\" style=\"width: 30%;\"></el-input>\r\n          <el-select v-model=\"currency\" style=\"width: 30%;\" placeholder=\"请选择\">\r\n            <el-option v-for=\"(item,index) in currencyList\" :key=\"index\" :label=\"item\" :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item :label=\"recordSelect == 'transfer' ? '支出方式：' : '收款方式：'\" required>\r\n        <el-radio-group v-model=\"type\">\r\n          <el-radio label=\"银行卡\"></el-radio>\r\n          <el-radio label=\"现金\"></el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"银行卡号：\" required v-show=\"type !== '现金'\">\r\n        <div style=\"width: 100%;display: flex;\">\r\n          <el-autocomplete class=\"input-style\" v-model=\"bankAccount\" :fetch-suggestions=\"querySearch\"\r\n            :trigger-on-focus=\"false\" placeholder=\"可输入银行卡号进行查询\" @select=\"handleSelect\">\r\n          </el-autocomplete>\r\n          <div style=\"margin-top: 5px;\">\r\n            <el-tooltip class=\"item\" effect=\"light\" content=\"新增银行卡\" placement=\"top-end\">\r\n              <img src=\"../../assets/imgs/peer.png\" style=\"height: 35px;margin-left: 10px;cursor: pointer;\"\r\n                @click=\"addBank\" />\r\n            </el-tooltip>\r\n            <el-dialog title=\"新增银行卡\" :visible.sync=\"dialogAddBankVisible\" center :close-on-press-escape=\"false\"\r\n              :close-on-click-modal=\"false\">\r\n              <div>\r\n                <el-form label-width=\"130px\">\r\n                  <el-form-item label=\"银行卡名称：\" required>\r\n                    <el-autocomplete class=\"inline-input input-style\" v-model=\"bankName\"\r\n                      :fetch-suggestions=\"queryBankNameSearch\" placeholder=\"请输入内容\" @select=\"handleBankNameSelect\">\r\n                    </el-autocomplete>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"银行卡卡号：\" required>\r\n                    <el-input v-model=\"bankAccount\" class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"备注：\">\r\n                    <el-input type=\"textarea\" v-model=\"remark\" class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <el-button @click=\"dialogAddBankVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addBankSure\" v-preventClick>确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"申请原因：\" required>\r\n        <el-input type=\"textarea\" v-model=\"describe\" class=\"input-style\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"submitButton\">\r\n      <el-button type=\"primary\" @click=\"borrowRecordAdd\" v-preventClick>申 请</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        url: this.$store.state.baseUrl,\r\n        countryList: [],\r\n        userList: [],\r\n        userId: '', // 用户\r\n        subMoney: '', // 申请金额\r\n        currency: '', // 币种\r\n        type: '银行卡',\r\n        bankList: [],\r\n        bankAccount: '',\r\n        bankId: 0,\r\n        dialogAddBankVisible: false,\r\n        bankNameList: [{\r\n          name: '工商银行'\r\n        }, {\r\n          name: '中国银行'\r\n        }, {\r\n          name: '建设银行'\r\n        }, {\r\n          name: '招商银行'\r\n        }, {\r\n          name: '交通银行'\r\n        }, {\r\n          name: '农业银行'\r\n        }, {\r\n          name: '汇丰银行'\r\n        }, {\r\n          name: '花旗银行'\r\n        }, {\r\n          name: '恒生银行'\r\n        }],\r\n        bankName: '', // 银行卡名称\r\n        bankAccount: '', // 卡号\r\n        remark: '', // 备注\r\n        describe: '',\r\n        params: {},\r\n      }\r\n    },\r\n    props: ['recordSelect'],\r\n    created() {\r\n      this.handleCountryGet();\r\n      this.handlebankCardList();\r\n      this.handleUserListInfo();\r\n    },\r\n    computed: {\r\n      currencyList() {\r\n        let list = [];\r\n        for (let item of this.countryList) {\r\n          if (list.indexOf(item.enCurrency) === -1) {\r\n            list.push(item.enCurrency);\r\n          }\r\n        };\r\n        console.log(list);\r\n        return list;\r\n      },\r\n    },\r\n    methods: {\r\n      changeNick() {\r\n        console.log(this.userId);\r\n      },\r\n      // 银行卡号选择\r\n      querySearch(queryString, cb) {\r\n        console.log(this.bankList);\r\n        let restaurants = this.bankList;\r\n        for (let items of restaurants) {\r\n          items.value = items.bankName + ' ' + items.bankAccount;\r\n          items.id = items.id;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.bankAccount.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleSelect(item) {\r\n        console.log(item);\r\n        this.bankAccount = item.value;\r\n        this.bankId = item.id;\r\n        console.log(this.bankAccount);\r\n        console.log(this.bankId);\r\n      },\r\n      // 新增银行卡\r\n      addBank() {\r\n        this.bankName = '';\r\n        this.bankAccount = '';\r\n        this.remark = '';\r\n        this.dialogAddBankVisible = true;\r\n      },\r\n      // 银行卡名称选择\r\n      queryBankNameSearch(queryString, cb) {\r\n        console.log(this.bankNameList);\r\n        let restaurants = this.bankNameList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createBankNameFilter(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createBankNameFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleBankNameSelect(item) {\r\n        console.log(item);\r\n        this.bankName = item.value;\r\n      },\r\n      // 确定增加\r\n      addBankSure() {\r\n        if (this.bankName == '' || this.bankAccount == '') {\r\n          this.$message.error({\r\n            message: '数据不能为空，请检查数据填写',\r\n            showClose: true,\r\n            duration: 2000\r\n          })\r\n        } else {\r\n          this.$axios.post(this.url + '/bankCardSave?java', {\r\n            bankName: this.bankName,\r\n            bankAccount: this.bankAccount,\r\n            remark: this.remark\r\n          }).then(res => {\r\n            console.log('增加银行卡');\r\n            console.log(res);\r\n            this.bankAccount = res.data.bankName + ' ' + res.data.bankAccount;\r\n            this.bankId = res.data.id;\r\n            this.$message.success({\r\n              message: '新增银行卡成功',\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogAddBankVisible = false;\r\n          }).catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogAddBankVisible = false;\r\n          })\r\n        }\r\n      },\r\n      // 数据验证\r\n      borrowRecordAdd() {\r\n        if (this.type == '银行卡') {\r\n          if (this.subMoney == '' || this.currency == '' || this.bankAccount ==\r\n            '' || this.describe == '') {\r\n            this.$message.error({\r\n              message: '数据不能为空，请检查数据填写',\r\n              showClose: true,\r\n              duration: 2000\r\n            })\r\n            return 1;\r\n          };\r\n        } else {\r\n          if (this.subMoney == '' || this.currency == '' || this.describe ==\r\n            '') {\r\n            this.$message.error({\r\n              message: '数据不能为空，请检查数据填写',\r\n              showClose: true,\r\n              duration: 2000\r\n            })\r\n            return 1;\r\n          };\r\n        }\r\n        if (this.recordSelect == 'company') {\r\n          this.params = {\r\n            flag: 0,\r\n            userId: 0,\r\n            subMoney: this.subMoney,\r\n            currency: this.currency,\r\n            type: this.type == '银行卡' ? 0 : 1,\r\n            id: this.type == '银行卡' ? this.bankId : '',\r\n            describe: this.describe\r\n          }\r\n        } else {\r\n          this.params = {\r\n            flag: this.recordSelect == 'fellow' ? 0 : 1,\r\n            userId: this.userId,\r\n            subMoney: this.subMoney,\r\n            currency: this.currency,\r\n            type: this.type == '银行卡' ? 0 : 1,\r\n            id: this.type == '银行卡' ? this.bankId : '',\r\n            describe: this.describe\r\n          }\r\n        }\r\n        console.log(this.params);\r\n        this.verifyBorrow(this.params);\r\n      },\r\n      // 提交申请\r\n      verifyBorrow(params) {\r\n        this.$axios.post(this.url + '/borrowRecordAdd?java', params).then(res => {\r\n          console.log('增加借贷记录');\r\n          console.log(res);\r\n          this.$message.success({\r\n            message: '新增记录成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          // this.myBorrowSelect.select = 0;\r\n        }).catch(err => {\r\n          console.log(err);\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          // this.myBorrowSelect.select = 0;\r\n        })\r\n      },\r\n      // 获取币种列表\r\n      handleCountryGet() {\r\n        this.$axios.post(this.url + '/CountryGet').then((res) => {\r\n          console.log('国家列表');\r\n          console.log(res);\r\n          this.countryList = res.data;\r\n        })\r\n      },\r\n      // 获取银行卡列表\r\n      handlebankCardList() {\r\n        this.$axios.post(this.url + '/bankCardList?java').then(res => {\r\n          console.log('获取银行卡列表');\r\n          console.log(res);\r\n          this.bankList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 获取用户列表\r\n      handleUserListInfo() {\r\n        this.$axios.post(this.url + '/userListInfo?java').then(res => {\r\n          console.log('获取用户列表');\r\n          console.log(res);\r\n          this.userList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .input-style {\r\n    width: 60% !important;\r\n  }\r\n</style>"]}]}