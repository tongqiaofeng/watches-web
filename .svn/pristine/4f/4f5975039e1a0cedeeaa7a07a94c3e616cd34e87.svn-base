{"remainingRequest":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\My-borrow.vue?vue&type=style&index=0&id=bfd3649e&lang=scss&scoped=true&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches\\src\\components\\views\\My-borrow.vue","mtime":1597906230728},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubXktYm9ycm93LWNvbnRhaW5lciB7CiAgd2lkdGg6IDkwJTsKICBtYXJnaW46IDAgYXV0bzsKICBwYWRkaW5nOiA0MHB4OwogIHBhZGRpbmctdG9wOiAyMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogMzBweDsKCiAgLmFkZEJ0biB7CiAgICB3aWR0aDogMTQ0cHg7CiAgICBoZWlnaHQ6IDQ4cHg7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgbGluZS1oZWlnaHQ6IDQ4cHg7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGM3MDYzOwoKICAgIC5hZGQtc3R5bGUgewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgY29sb3I6ICNmZmY7CiAgICB9CiAgfQoKICAuYmFjay1pbWcgewogICAgd2lkdGg6IDc1cHg7CiAgICBoZWlnaHQ6IDQ1cHg7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgbGluZS1oZWlnaHQ6IDQ1cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgY3Vyc29yOiBwb2ludGVyOwoKICAgIGRpdiB7CiAgICAgIG1hcmdpbi10b3A6IDVweDsKCiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgaGVpZ2h0OiAyNXB4OwogICAgICB9CiAgICB9CgogICAgLmZvbnQgewogICAgICBmb250LXNpemU6IDE3cHg7CiAgICB9CiAgfQp9CgouaW5wdXQtc3R5bGUgewogIHdpZHRoOiA2MCUgIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["My-borrow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+OA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"My-borrow.vue","sourceRoot":"src/components/views","sourcesContent":["<template>\r\n  <div class=\"my-borrow-container\" id=\"my-borrow\">\r\n    <div v-show=\"myBorrowSelect.select == 0\">\r\n      <div class=\"addBtn\" @click=\"addBorrow\">\r\n        <span class=\"add-style\">\r\n          <span>+</span> 新增记录\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <el-tabs type=\"border-card\" v-model=\"addBorrowListActiveName\" @tab-click=\"handleMyBorrowListClick\">\r\n          <el-tab-pane label=\"我的待办事项\" name=\"backlog\">\r\n            <div slot=\"label\" style=\"display: flex;font-size: 15px;\">我的待办事项\r\n              <p style=\"margin-top: -10px;margin-left: 3px;\">\r\n                <img v-if=\"unHandleCircle == 1\" src=\"../../assets/imgs/circle.png\" style=\"width: 10px;height: 10px;\" />\r\n              </p>\r\n            </div>\r\n            <div v-if=\"unHandleList.length == 0\" style=\"text-align: center;\">\r\n              <p>{{backlogMsg}}</p>\r\n            </div>\r\n            <div v-else>\r\n              <Un-handle-list ref=\"unHandleList\" :unHandleList=\"unHandleList\" :unHandleSelect=\"unHandleSelect\"\r\n                @applyResult=\"applyResult\">\r\n              </Un-handle-list>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"对方处理中\" name=\"inhand\">\r\n            <div slot=\"label\" style=\"display: flex;font-size: 15px;\">对方处理中\r\n              <p style=\"margin-top: -10px;margin-left: 3px;\">\r\n                <img v-if=\"inHandleCircle == 1\" src=\"../../assets/imgs/circle.png\" style=\"width: 10px;height: 10px;\" />\r\n              </p>\r\n            </div>\r\n            <div v-if=\"inHandleList.length == 0\" style=\"text-align: center;\">\r\n              <p>{{inhandMsg}}</p>\r\n            </div>\r\n            <div v-else>\r\n              <In-handle-list ref=\"inHandleList\" :inHandleList=\"inHandleList\" :inHandleSelect=\"inHandleSelect\">\r\n              </In-handle-list>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"已完成\" name=\"offstocks\">\r\n\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"myBorrowSelect.select == 1\">\r\n      <div class=\"back-img\" @click=\"gobackMain\">\r\n        <div>\r\n          <img src=\"../../assets/imgs/goback.png\" />\r\n        </div>\r\n        <span class=\"font\">返回</span>\r\n      </div>\r\n      <el-tabs type=\"border-card\" v-model=\"addBorrowActiveName\" @tab-click=\"handleMyBorrowClick\">\r\n        <el-tab-pane label=\"向公司借款\" name=\"company\">\r\n          <My-borrow-record ref=\"record\" :recordSelect=\"addBorrowActiveName\" :recordListData=\"recordListData\"\r\n            @recordSubmit=\"recordSubmit\">\r\n          </My-borrow-record>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"向同事借款\" name=\"fellow\">\r\n          <My-borrow-record ref=\"fellow_record\" :recordSelect=\"addBorrowActiveName\" :recordListData=\"recordListData\"\r\n            @recordSubmit=\"recordSubmit\">\r\n          </My-borrow-record>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"向同事转账\" name=\"transfer\">\r\n          <My-borrow-record ref=\"transfer_record\" :recordSelect=\"addBorrowActiveName\" :recordListData=\"recordListData\"\r\n            @recordSubmit=\"recordSubmit\">\r\n          </My-borrow-record>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        url: this.$store.state.baseUrl,\r\n        backlogMsg: '数据加载中...',\r\n        addBorrowActiveName: 'company',\r\n        addBorrowListActiveName: 'backlog',\r\n        recordListData: {\r\n          countryList: [],\r\n          userList: [],\r\n          bankList: [],\r\n        },\r\n        unHandleList: [], // 我的待办事项\r\n        unHandleSelect: {\r\n          select: 0\r\n        },\r\n        unHandleCircle: 0,\r\n        inHandleList: [], // 对方处理中\r\n        inhandMsg: '数据加载中...',\r\n        inHandleCircle: 0,\r\n        inHandleSelect: {\r\n          select: 0\r\n        },\r\n        completedList: [], // 已完成\r\n\r\n\r\n      }\r\n    },\r\n    props: [\"myBorrowSelect\"],\r\n    created() {\r\n      this.handleCountryGet();\r\n      this.handlebankCardList();\r\n      this.handleUserListInfo();\r\n      this.handleBorrowList();\r\n    },\r\n\r\n    /*watch: {\r\n      unHandleList: {\r\n        immediate: true,\r\n        handler(newValue, oldValue) {\r\n          console.log('标记');\r\n          console.log(oldValue);\r\n          console.log(newValue);\r\n          let list = [];\r\n          list = JSON.parse(localStorage.getItem('unHandleListLocalOld'));\r\n          console.log(list);\r\n          for (let item in newValue) {\r\n            if (list.indexOf(newValue[item].id) === -1) {\r\n              list.push({\r\n                id: this.id\r\n              })\r\n            }\r\n          };\r\n          console.log(list);\r\n          localStorage.setItem('unHandleListLocalOld', JSON.stringify(list));\r\n        }\r\n      }\r\n    },*/\r\n    methods: {\r\n      // 新增记录\r\n      addBorrow() {\r\n        this.addBorrowActiveName = 'company';\r\n        this.handleMyBorrowClick();\r\n        this.myBorrowSelect.select = 1;\r\n      },\r\n      // 添加记录成功或失败\r\n      recordSubmit(result) {\r\n        this.myBorrowSelect.select = result;\r\n        this.handleBorrowList();\r\n      },\r\n      // 新增记录tab切换\r\n      handleMyBorrowClick() {\r\n        console.log(this.addBorrowActiveName);\r\n        if (this.addBorrowActiveName == 'company') {\r\n          this.$refs.record.userId = '';\r\n          this.$refs.record.subMoney = '';\r\n          this.$refs.record.type = '银行卡';\r\n          this.$refs.record.bankAccount = '';\r\n          this.$refs.record.id = '';\r\n          this.$refs.record.describe = '';\r\n        } else if (this.addBorrowActiveName == 'fellow') {\r\n          this.$refs.fellow_record.userId = '';\r\n          this.$refs.fellow_record.subMoney = '';\r\n          this.$refs.fellow_record.type = '银行卡';\r\n          this.$refs.fellow_record.bankAccount = '';\r\n          this.$refs.fellow_record.id = '';\r\n          this.$refs.fellow_record.describe = '';\r\n        } else {\r\n          this.$refs.transfer_record.userId = '';\r\n          this.$refs.transfer_record.subMoney = '';\r\n          this.$refs.transfer_record.type = '银行卡';\r\n          this.$refs.transfer_record.bankAccount = '';\r\n          this.$refs.transfer_record.id = '';\r\n          this.$refs.transfer_record.describe = '';\r\n        }\r\n      },\r\n      // 列表项tab切换\r\n      handleMyBorrowListClick() {\r\n        this.$refs.unHandleList.page = 1;\r\n        this.$refs.unHandleList.getList();\r\n        this.$refs.inHandleList.page = 1;\r\n        this.$refs.inHandleList.getList();\r\n      },\r\n      gobackMain() {\r\n        this.myBorrowSelect.select = 0;\r\n      },\r\n      // 获取我的借贷列表\r\n      handleBorrowList() {\r\n        this.backlogMsg = '数据加载中...';\r\n        this.inhandMsg = '数据加载中...';\r\n        this.$axios.post(this.url + '/borrowList?java').then(res => {\r\n          console.log('获取我的借贷列表');\r\n          console.log(res);\r\n          this.unHandleList = res.data.unHandleList;\r\n          if (this.unHandleList.length == 0) {\r\n            this.backlogMsg = '啊哦~暂无数据'\r\n          }\r\n          this.inHandleList = res.data.inHandleList;\r\n          if (this.inHandleList.length == 0) {\r\n            this.inhandMsg = '啊哦~暂无数据'\r\n          }\r\n          this.completedList = res.data.completedList;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 提交申请结果成功\r\n      applyResult() {\r\n        this.handleBorrowList();\r\n      },\r\n      // 获取币种列表\r\n      handleCountryGet() {\r\n        this.$axios.post(this.url + '/CountryGet').then((res) => {\r\n          console.log('国家列表');\r\n          console.log(res);\r\n          this.recordListData.countryList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 获取银行卡列表\r\n      handlebankCardList() {\r\n        this.$axios.post(this.url + '/bankCardList?java').then(res => {\r\n          console.log('获取银行卡列表');\r\n          console.log(res);\r\n          this.recordListData.bankList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 获取用户列表\r\n      handleUserListInfo() {\r\n        this.$axios.post(this.url + '/userListInfo?java').then(res => {\r\n          console.log('获取用户列表');\r\n          console.log(res);\r\n          this.recordListData.userList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .my-borrow-container {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    padding: 40px;\r\n    padding-top: 20px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n    .addBtn {\r\n      width: 144px;\r\n      height: 48px;\r\n      margin-bottom: 30px;\r\n      line-height: 48px;\r\n      border-radius: 6px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      background-color: #0c7063;\r\n\r\n      .add-style {\r\n        display: inline-block;\r\n        font-size: 16px;\r\n        color: #fff;\r\n      }\r\n    }\r\n\r\n    .back-img {\r\n      width: 75px;\r\n      height: 45px;\r\n      margin-bottom: 15px;\r\n      line-height: 45px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      cursor: pointer;\r\n\r\n      div {\r\n        margin-top: 5px;\r\n\r\n        img {\r\n          width: 30px;\r\n          height: 25px;\r\n        }\r\n      }\r\n\r\n      .font {\r\n        font-size: 17px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .input-style {\r\n    width: 60% !important;\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #my-borrow {\r\n    .el-form-item .el-form-item {\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n</style>"]}]}