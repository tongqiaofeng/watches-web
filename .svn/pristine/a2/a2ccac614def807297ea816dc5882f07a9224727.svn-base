{"remainingRequest":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\watches\\src\\components\\purch\\Taxes-admin.vue?vue&type=style&index=0&id=22f6ee84&lang=scss&scoped=true&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\watches\\src\\components\\purch\\Taxes-admin.vue","mtime":1598243030413},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\css-loader\\dist\\cjs.js","mtime":1598242965053},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1598243025443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\postcss-loader\\src\\index.js","mtime":1598243002637},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1598243018143},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598242954443},{"path":"D:\\aa-tong\\my-projects\\watches\\node_modules\\vue-loader\\lib\\index.js","mtime":1598243025443}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbW1pc3Npb24tY29udGFpbmVyIHsKICB3aWR0aDogOTElOwogIG1hcmdpbjogMCBhdXRvOwogIHBhZGRpbmc6IDMwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBib3JkZXItcmFkaXVzOiAzMHB4OwoKICAuY29udGFpbmVyLXRvcCB7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgcGFkZGluZzogMCA4MnB4IDIwcHggODJweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CgogICAgLmZvbnQtc3R5bGUgewogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjYzBjMGMwOwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CgogICAgICAuc3R5bGUtdG9wLWxlZnQsCiAgICAgIC5zdHlsZS10b3AtY2VudGVyLAogICAgICAuc3R5bGUtdG9wLXJpZ2h0IHsKICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgIH0KICAgIH0KICB9Cn0KCnRkIHsKICBoZWlnaHQ6IDYwcHg7CiAgbWFyZ2luOiAxMHB4IDA7CiAgcGFkZGluZzogMjBweCAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmM2ZiZjk7CiAgZm9udC1zaXplOiAxNXB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKdGFibGUgewogIHdpZHRoOiAxMDAlOwogIHRhYmxlLWxheW91dDogZml4ZWQ7CiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsKICBib3JkZXItc3BhY2luZzogMDsKCiAgdHIgewoKICAgIHRoLAogICAgdGQgewogICAgICB3aWR0aDogMjAlOwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGJvcmRlcjogMDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Taxes-admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Taxes-admin.vue","sourceRoot":"src/components/purch","sourcesContent":["<template>\r\n  <div>\r\n    <!-- <h3>税金管理页面</h3> -->\r\n    <div v-if=\"taxesSel.select == 0\">\r\n      <div v-show=\"taxesList.length == 0\" style=\"text-align: center;\">\r\n        <p>{{msg}}</p>\r\n      </div>\r\n      <div v-show=\"taxesList.length !== 0\" class=\"commission-container\">\r\n        <div class=\"container-top\">\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-left\">{{unCheckTotal}}</p>\r\n            未结笔数\r\n          </div>\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-center\" style=\"color: #ea5b29;\">{{formatNumberRgx(unCheckMoney) + ' ' + 'HKD'}}</p>\r\n            未结金额\r\n          </div>\r\n          <div class=\"font-style\">\r\n            <p class=\"style-top-right\">{{backStoreTotal}}</p>\r\n            需返店城市\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <table v-for=\"(item,index) in taxesList\" :key=\"index\" style=\"margin-bottom: 20px;\">\r\n            <tr>\r\n              <th>采购单号</th>\r\n              <th>{{item.type == 0 || item.type == 1 ? '采购时间' : '应退金额'}}</th>\r\n              <th v-show=\"item.type == 0 || item.type == 2\">{{item.type == 0 ? '返店退税' : (item.type == 2 ? '税金折损' : '')}}\r\n              </th>\r\n              <th>{{item.type == 0 || item.type == 1 ? '应退金额' : '实退金额'}}</th>\r\n              <th>操作</th>\r\n            </tr>\r\n            <tr>\r\n              <td>{{item.obj.buy_id}}</td>\r\n              <td>\r\n                {{item.type == 0 || item.type == 1 ? item.obj.buy_date : formatNumberRgx(item.obj.buy_taxMoney)  + ' ' + item.obj.buy_taxCurrency}}\r\n              </td>\r\n              <td v-show=\"item.type == 0 || item.type == 2\">\r\n                {{item.type == 0 ? (item.obj.city_CN == null || item.obj.city_CN == '' ? item.obj.country_CN : item.obj.city_CN + ' / ' + item.obj.country_CN) : (item.type == 2 ? '约 ' + item.obj.lostTax + ' %' : '')}}\r\n              </td>\r\n              <td>\r\n                <!-- {{item.type == 0 || item.type == 1 ? (item.obj.buy_taxMoney == 0 ? '' : formatNumberRgx(item.obj.buy_taxMoney)  + ' ' + item.obj.buy_taxCurrency) : formatNumberRgx(item.obj.buy_taxRecvMoney)  + ' ' +item.obj.buy_taxRecvCurrency}} -->\r\n                {{item.type == 0 || item.type == 1 ? formatNumberRgx(item.obj.buy_taxMoney)  + ' ' + item.obj.buy_taxCurrency : formatNumberRgx(item.obj.buy_taxRecvMoney)  + ' ' +item.obj.buy_taxRecvCurrency}}\r\n              </td>\r\n              <td>\r\n                <el-tooltip class=\"item\" effect=\"light\" content=\"查看详细信息\" placement=\"top-end\">\r\n                  <img src=\"../../assets/imgs/details.png\" style=\"cursor: pointer;\"\r\n                    @click=\"checkDetails(item.obj.buy_id)\" />\r\n                </el-tooltip>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          <div style=\"width: 100%;height: 63px;\">\r\n            <div style=\"margin:15px 0;position:absolute;right:10%;\">\r\n              <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n                layout=\"total, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"taxesSel.select == 1\">\r\n      <Details @goback=\"goback\" :detailsSelect=\"detailsSelect\"></Details>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: '数据加载中...',\r\n        page: 1,\r\n        pageNum: 10,\r\n        total: 0,\r\n        unCheckTotal: 0, // 未结笔数 \r\n        unCheckMoney: 0, // 未结金额\r\n        backStoreTotal: 0, // 需返店数量\r\n        taxesList: [],\r\n        detailsSelect: {\r\n          id: 1,\r\n          num: 0,\r\n          buy_commState: 0\r\n        },\r\n\r\n      }\r\n    },\r\n    props: [\"taxesSel\"],\r\n    mounted() {\r\n      this.handleTaxes();\r\n    },\r\n    methods: {\r\n      // 获取税金列表\r\n      handleTaxes() {\r\n        this.msg = '数据加载中...';\r\n        this.$axios.post(this.$store.state.baseUrl + '/BuyOrderTaxList?java', {\r\n          page: this.page,\r\n          pageNum: this.pageNum\r\n        }).then((res) => {\r\n          console.log('税金列表');\r\n          console.log(res);\r\n          this.unCheckTotal = res.data.unCheckTotal;\r\n          this.unCheckMoney = res.data.unCheckMoney.toFixed(2);\r\n          this.backStoreTotal = res.data.backStoreTotal;\r\n          this.total = res.data.total;\r\n          this.taxesList = res.data.lists;\r\n          if (this.taxesList.length == 0) {\r\n            this.msg = '啊哦~暂无数据';\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 查看详情\r\n      checkDetails(id) {\r\n        sessionStorage.setItem(\"buy_id\", id);\r\n        this.taxesSel.select = 1;\r\n        this.detailsSelect.num = 2;\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      // 分页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        console.log(this.page);\r\n        this.handleTaxes();\r\n        (function smoothscroll() {\r\n          var currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n      goback(val) {\r\n        console.log(val);\r\n        this.taxesSel.select = 0;\r\n        this.handleTaxes();\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .commission-container {\r\n    width: 91%;\r\n    margin: 0 auto;\r\n    padding: 30px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n    .container-top {\r\n      margin-bottom: 30px;\r\n      padding: 0 82px 20px 82px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      .font-style {\r\n        font-size: 16px;\r\n        color: #c0c0c0;\r\n        text-align: center;\r\n\r\n        .style-top-left,\r\n        .style-top-center,\r\n        .style-top-right {\r\n          font-size: 20px;\r\n          font-weight: bold;\r\n          color: #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  td {\r\n    height: 60px;\r\n    margin: 10px 0;\r\n    padding: 20px 0;\r\n    background-color: #f3fbf9;\r\n    font-size: 15px;\r\n    text-align: center;\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    table-layout: fixed;\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 20%;\r\n        text-align: center;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}