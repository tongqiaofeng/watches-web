{"remainingRequest":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\upgrade\\up-watches\\src\\components\\market\\For-sale-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\upgrade\\up-watches\\src\\components\\market\\For-sale-list.vue","mtime":1585710161412},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\upgrade\\up-watches\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nOiB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsLAogICAgICBmb3JTYWxlV2F0Y2hMaXN0OiB0aGlzLmZvclNhbGVXYXRjaCwKICAgICAgaWQ6IDAsCiAgICAgIGRpYWxvZ1NhbGVMaXN0VmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGxfdGltZTogbmV3IERhdGUoKSwgLy8g6ZSA5ZSu5pel5pyfCiAgICAgIHNlbGxfbW9uZXk6ICIiLCAvLyDplIDllK7ph5Hpop0KICAgICAgc2VsbF9jdXN0b206ICIiLCAvLyDlrqLmiLflkI3np7AKICAgICAgc2VsbF9wYXlmdWxsOiBmYWxzZSwgLy8g5piv5ZCm5YWo5qy+ICAgMDrpnZ7lhajmrL4gMTrlhajmrL4KICAgICAgc2VsbF9wYXltb25leTE6ICIiLCAvLyDnrKzkuIDmrKHku5jmrL7vvIjlrprph5HvvIkKICAgICAgc2VsbF9wYXl0aW1lMTogbmV3IERhdGUoKSwgLy8g56ys5LiA5qyh5LuY5qy+77yI5a6a6YeR77yJ5pe26Ze0CiAgICAgIHNlbGxfcGF5bW9uZXkyOiAiIiwgLy8g56ys5LqM5qyh5LuY5qy+77yI5bC+5qy+77yJ77yIc2VsbF9wYXlmdWxs5Li6MeaXtu+8jOivpeWGheWuueS4jeS8oO+8iQogICAgICBzZWxsX3BheXRpbWUyOiBuZXcgRGF0ZSgpLCAvLyDnrKzkuozmrKHku5jmrL7vvIjlsL7mrL7vvInml7bpl7TvvIhzZWxsX3BheWZ1bGzkuLox5pe277yM6K+l5YaF5a655LiN5Lyg77yJCiAgICAgIHNlbGxfbm90ZTogIiIsIC8vIOWkh+azqAogICAgICBwYXJhbXNTYXZlOiB7fSwKICAgICAgc2VsbF9zdG9ja291dHRva2VuOiAiIiwgLy8g5Ye65bqT6aqM6K+B56CBKOivpeWAvOeUqOS6jueUn+aIkOWHuuW6k+S6jOe7tOeggSkKICAgICAgb3B0aW9uczogewogICAgICAgIHRleHQ6ICIiLAogICAgICAgIHJlbmRlcjogImNhbnZhcyIsCiAgICAgICAgd2lkdGg6IDIwMCwKICAgICAgICBoZWlnaHQ6IDIwMCwKICAgICAgICB0eXBlTnVtYmVyOiAtMSwKICAgICAgICBjb3JyZWN0TGV2ZWw6IDIsCiAgICAgICAgYmFja2dyb3VuZDogIiNmZmZmZmYiLAogICAgICAgIGZvcmVncm91bmQ6ICIjMDAwMDAwIgogICAgICB9LAogICAgICB3YXRjaEluZGV4OiAwLAogICAgICBsb2dTdGF0ZTogMAogICAgfTsKICB9LAogIHByb3BzOiBbImZvclNhbGVXYXRjaCJdLAogIG1ldGhvZHM6IHsKICAgIC8vIOi/lOWbnuW6k+WtmOmhtQogICAgZ29iYWNrRm9yU2FsZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiZ29iYWNrRm9yU2FsZSIsIDApOwogICAgfSwKICAgIC8vIOWHuuWUruWVhuWTgQogICAgc2VsbFdhdGNoKGlkLCBpbmRleCwgbG9nU3RhdGUpIHsKICAgICAgdGhpcy5pZCA9IGlkOwogICAgICB0aGlzLmxvZ1N0YXRlID0gbG9nU3RhdGU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9nU3RhdGUpOwogICAgICB0aGlzLndhdGNoSW5kZXggPSBpbmRleDsKICAgICAgCiAgICAgIHRoaXMuc2VsbF90aW1lID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5zZWxsX21vbmV5ID0gIiI7CiAgICAgIHRoaXMuc2VsbF9jdXN0b20gPSAiIjsKICAgICAgdGhpcy5zZWxsX3BheWZ1bGwgPSB0cnVlOwogICAgICB0aGlzLnNlbGxfcGF5bW9uZXkxID0gIiI7CiAgICAgIHRoaXMuc2VsbF9wYXl0aW1lMSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuc2VsbF9wYXltb25leTIgPSAiIjsKICAgICAgdGhpcy5zZWxsX3BheXRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5zZWxsX25vdGUgPSAiIjsKICAgICAgdGhpcy5kaWFsb2dTYWxlTGlzdFZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOaWsOWinumUgOWUruWNleWJjeaVsOaNrueahOmqjOivgQogICAgc2VsbE9yZGVyU2F2ZTEoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLmlrDlop7plIDllK7ljZUiKTsKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxsX3BheWZ1bGwpOwogICAgICBpZiAodGhpcy5zZWxsX3BheWZ1bGwgPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnBhcmFtc1NhdmUgPSB7CiAgICAgICAgICBpZDogdGhpcy5pZCwKICAgICAgICAgIHNlbGxfdGltZTogdGhpcy5zaGVsbERhdGUodGhpcy5zZWxsX3RpbWUpLAogICAgICAgICAgc2VsbF9tb25leTogdGhpcy5zZWxsX21vbmV5LAogICAgICAgICAgc2VsbF9jdXN0b206IHRoaXMuc2VsbF9jdXN0b20sCiAgICAgICAgICBzZWxsX3BheWZ1bGw6IDAsCiAgICAgICAgICBzZWxsX3BheW1vbmV5MTogdGhpcy5zZWxsX3BheW1vbmV5MSwKICAgICAgICAgIHNlbGxfcGF5dGltZTE6IHRoaXMuc2VsbF9wYXl0aW1lMSA9PSAiIiA/ICIiIDogdGhpcy5zaGVsbERhdGUodGhpcy5zZWxsX3BheXRpbWUxKSwKICAgICAgICAgIHNlbGxfcGF5bW9uZXkyOiB0aGlzLnNlbGxfcGF5bW9uZXkyLAogICAgICAgICAgc2VsbF9wYXl0aW1lMjogdGhpcy5zZWxsX3BheW1vbmV5MiA9PSAiIiA/ICIiIDogdGhpcy5zaGVsbERhdGUodGhpcy5zZWxsX3BheXRpbWUyKSwKICAgICAgICAgIHNlbGxfbm90ZTogdGhpcy5zZWxsX25vdGUKICAgICAgICB9OwogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICAgIGlmICh0aGlzLnNlbGxfcGF5ZnVsbCA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5wYXJhbXNTYXZlID0gewogICAgICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgICAgICBzZWxsX3RpbWU6IHRoaXMuc2hlbGxEYXRlKHRoaXMuc2VsbF90aW1lKSwKICAgICAgICAgIHNlbGxfbW9uZXk6IHRoaXMuc2VsbF9tb25leSwKICAgICAgICAgIHNlbGxfY3VzdG9tOiB0aGlzLnNlbGxfY3VzdG9tLAogICAgICAgICAgc2VsbF9wYXlmdWxsOiAxLAogICAgICAgICAgc2VsbF9wYXltb25leTE6IHRoaXMuc2VsbF9wYXltb25leTEsCiAgICAgICAgICBzZWxsX3BheXRpbWUxOiB0aGlzLnNlbGxfcGF5dGltZTEgPT0gIiIgPyAiIiA6IHRoaXMuc2hlbGxEYXRlKHRoaXMuc2VsbF9wYXl0aW1lMSksCiAgICAgICAgICBzZWxsX25vdGU6IHRoaXMuc2VsbF9ub3RlCiAgICAgICAgfTsKICAgICAgICBpZiAodGhpcy5zZWxsX3BheW1vbmV5MSAhPT0gIiIpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGxfcGF5bW9uZXkxID09IHRoaXMuc2VsbF9tb25leSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxsX3BheW1vbmV5MSAhPT0gdGhpcy5zZWxsX21vbmV5KSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLku5jmrL7ph5Hpop3kuI7plIDllK7ph5Hpop3kuI3nrYnvvIzkuI3og73kv53lrZjvvIzor7fph43mlrDloavlhpkiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gMzsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5paw5aKe6ZSA5ZSu5Y2VCiAgICBzZWxsT3JkZXJTYXZlKCkgewogICAgICBjb25zb2xlLmxvZygiZmZmZiIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcmFtc1NhdmUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGxPcmRlclNhdmUxKCkpOwogICAgICBpZiAodGhpcy5zZWxsT3JkZXJTYXZlMSgpID09IDEpIHsKICAgICAgICB0aGlzLiRheGlvcwogICAgICAgICAgLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICIvU2VsbE9yZGVyU2F2ZSIsIHRoaXMucGFyYW1zU2F2ZSkKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmlrDlop7plIDllK7ljZXmiJDlip/kuoblkJciKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi5paw5aKe6ZSA5ZSu5Y2V5oiQ5YqfIiwKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YSAhPT0gIiIpIHsKICAgICAgICAgICAgICB0aGlzLnNlbGxfc3RvY2tvdXR0b2tlbiA9IHJlcy5kYXRhLnNlbGxfc3RvY2tvdXR0b2tlbjsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGxfc3RvY2tvdXR0b2tlbik7CiAgICAgICAgICAgICAgaWYgKHRoaXMubG9nU3RhdGUgPT0gMikgewogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRleHQgPSB0aGlzLnNlbGxfc3RvY2tvdXR0b2tlbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRleHQgPSAiIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSArICLvvIzor7fmo4Dmn6XloavlhpnmlbDmja7mmK/lkKbmraPnoa4iLAogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g56Gu5a6aCiAgICBzZWxsT3JkZXJTYXZlU3VyZSgpIHsKICAgICAgdGhpcy5mb3JTYWxlV2F0Y2hMaXN0LndhdGNoLnNwbGljZSh0aGlzLndhdGNoSW5kZXgsIDEpOwogICAgICB0aGlzLmRpYWxvZ1NhbGVMaXN0VmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmtleXdvcmQgPSAiIjsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JTYWxlV2F0Y2hMaXN0LndhdGNoKTsKICAgICAgaWYgKHRoaXMuZm9yU2FsZVdhdGNoTGlzdC53YXRjaC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJGVtaXQoImdvYmFja0ZvclNhbGUiLCAwKTsKICAgICAgfQogICAgfQogIH0KfTsKCg=="},{"version":3,"sources":["For-sale-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"For-sale-list.vue","sourceRoot":"src/components/market","sourcesContent":["<template>\r\n  <div>\r\n    <!-- <h1>待售品牌手表</h1> -->\r\n    <div class=\"for-sale-list-container\">\r\n      <div class=\"back-img\">\r\n        <img src=\"../../assets/imgs/goback.png\" @click=\"gobackForSale\" />\r\n        <span class=\"font\">返回</span>\r\n      </div>\r\n      <table v-for=\"(item,index) of forSaleWatchList.watch\" :key=\"index\" class=\"list-table\">\r\n        <tr>\r\n          <th>图片</th>\r\n          <th>货号</th>\r\n          <th v-if=\"item.LOG_state == 1 || item.LOG_state == 2\">仓库</th>\r\n          <th>保卡日期</th>\r\n          <th>商品状态</th>\r\n          <th v-if=\"item.LOG_state == 0 || item.LOG_state == 1\">{{item.LOG_state == 0 ? '采购时间' : '预计到库时间'}}</th>\r\n          <th>状态</th>\r\n          <th>操作</th>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"first-td\">\r\n            <img v-image-preview\r\n              :src=\"item.watchpics == null || item.watchpics == '' ? '' : img + '/img/watch/'+ (item.watchpics || '').split('|')[0]\"\r\n              style=\"width: 100px;height: 100px;object-fit: cover;border-radius: 30px;\" />\r\n          </td>\r\n          <td>{{item.stock_No}}</td>\r\n          <td v-if=\"item.LOG_state == 1 || item.LOG_state == 2\">{{item.LOG_warehouse}}</td>\r\n          <td>{{item.buy_watchcard}}</td>\r\n          <td>\r\n            <div v-for=\"(states,index) of item.watchstate.split('|')\" :key=\"index\">\r\n              <p>{{states}}</p>\r\n            </div>\r\n          </td>\r\n          <td v-if=\"item.LOG_state == 0 || item.LOG_state == 1\">\r\n            {{item.LOG_state == 0 ? item.buy_date : (item.LOG_state == 1 ? item.LOG_arrivetime: '')}}</td>\r\n          <td>{{item.LOG_state == 0 ? '采购中' : (item.LOG_state == 1 ? '运输中' : '已入库')}}</td>\r\n          <td class=\"last-td\">\r\n            <el-button type=\"text\" @click=\"sellWatch(item.id,index,item.LOG_state)\">出售</el-button>\r\n            <el-dialog title=\"出售\" :visible.sync=\"dialogSaleListVisible\" left>\r\n              <div style=\"text-align: left;\">\r\n                <div>\r\n                  <el-form label-width=\"120px\">\r\n                    <el-form-item label=\"型号：\">\r\n                      <span>{{forSaleWatchList.buy_watchbrand +'-'+ forSaleWatchList.buy_watchmodel}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"销售日期：\">\r\n                      <el-date-picker v-model=\"sell_time\" type=\"date\" class=\"input-style\"></el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"销售金额：\">\r\n                      <el-input type=\"text\" v-model=\"sell_money\" class=\"input-style\">\r\n                        <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                      </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"客户名称：\">\r\n                      <el-input v-model=\"sell_custom\" placeholder=\"请输入客户名称\" class=\"input-style\"></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </div>\r\n                <div>\r\n                  <div class=\"top-form\">\r\n                    <span class=\"top-span\">是否全款：</span>\r\n                    <el-switch v-model=\"sell_payfull\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n                  </div>\r\n                  <div v-if=\"sell_payfull == false\">\r\n                    <div style=\"margin: 20px;padding: 20px;border: 1px solid #000;border-radius: 30px;\">\r\n                      <p>定金：</p>\r\n                      <el-form label-width=\"120px\">\r\n                        <el-form-item label=\"付款日期：\">\r\n                          <el-date-picker v-model=\"sell_paytime1\" type=\"date\" class=\"input-style\"></el-date-picker>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"付款金额：\">\r\n                          <el-input type=\"text\" v-model=\"sell_paymoney1\" class=\"input-style\">\r\n                            <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                          </el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                    </div>\r\n                    <div style=\"margin: 20px;padding: 20px;border: 1px solid #000;border-radius: 30px;\">\r\n                      <p>尾款：</p>\r\n                      <el-form label-width=\"120px\">\r\n                        <el-form-item label=\"付款日期：\">\r\n                          <el-date-picker v-model=\"sell_paytime2\" type=\"date\" class=\"input-style\"></el-date-picker>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"付款金额：\">\r\n                          <el-input type=\"text\" v-model=\"sell_paymoney2\" class=\"input-style\">\r\n                            <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                          </el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                    </div>\r\n                  </div>\r\n                  <div v-if=\"sell_payfull == true\">\r\n                    <div style=\"padding: 20px;border: 1px solid #000;border-radius: 30px;\">\r\n                      <el-form label-width=\"120px\">\r\n                        <el-form-item label=\"付款日期：\">\r\n                          <el-date-picker v-model=\"sell_paytime1\" type=\"date\" class=\"input-style\"></el-date-picker>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"付款金额：\">\r\n                          <el-input type=\"text\" v-model=\"sell_paymoney1\" class=\"input-style\">\r\n                            <i slot=\"suffix\" style=\"color: #000;margin-right:5%;font-style:normal;\">HKD</i>\r\n                          </el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                    </div>\r\n                  </div>\r\n                  <div style=\"margin: 20px;\">\r\n                    <p>备注：</p>\r\n                    <el-input type=\"textarea\" v-model=\"sell_note\" placeholder=\"请输入备注信息\"></el-input>\r\n                  </div>\r\n                </div>\r\n                <!-- <div v-if=\"logState == 2\"> -->\r\n                <div v-if=\"logState == 2 && options.text !== ''\" style=\"text-align: center;\">\r\n                  <div v-qr=\"options\" v-if=\"options\"></div>\r\n                  <p>提货二维码</p>\r\n                </div>\r\n                <!-- </div> -->\r\n                <div style=\"margin-top: 20px;text-align: center;\">\r\n                  <el-button type=\"primary\" @click=\"sellOrderSave\" style=\"width: 40%; margin: 0 auto;\">保存</el-button>\r\n                </div>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <el-button @click=\"dialogSaleListVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"sellOrderSaveSure\">确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        img: this.$store.state.baseUrl,\r\n        forSaleWatchList: this.forSaleWatch,\r\n        id: 0,\r\n        dialogSaleListVisible: false,\r\n        sell_time: new Date(), // 销售日期\r\n        sell_money: \"\", // 销售金额\r\n        sell_custom: \"\", // 客户名称\r\n        sell_payfull: false, // 是否全款   0:非全款 1:全款\r\n        sell_paymoney1: \"\", // 第一次付款（定金）\r\n        sell_paytime1: new Date(), // 第一次付款（定金）时间\r\n        sell_paymoney2: \"\", // 第二次付款（尾款）（sell_payfull为1时，该内容不传）\r\n        sell_paytime2: new Date(), // 第二次付款（尾款）时间（sell_payfull为1时，该内容不传）\r\n        sell_note: \"\", // 备注\r\n        paramsSave: {},\r\n        sell_stockouttoken: \"\", // 出库验证码(该值用于生成出库二维码)\r\n        options: {\r\n          text: \"\",\r\n          render: \"canvas\",\r\n          width: 200,\r\n          height: 200,\r\n          typeNumber: -1,\r\n          correctLevel: 2,\r\n          background: \"#ffffff\",\r\n          foreground: \"#000000\"\r\n        },\r\n        watchIndex: 0,\r\n        logState: 0\r\n      };\r\n    },\r\n    props: [\"forSaleWatch\"],\r\n    methods: {\r\n      // 返回库存页\r\n      gobackForSale() {\r\n        this.$emit(\"gobackForSale\", 0);\r\n      },\r\n      // 出售商品\r\n      sellWatch(id, index, logState) {\r\n        this.id = id;\r\n        this.logState = logState;\r\n        console.log(this.logState);\r\n        this.watchIndex = index;\r\n        \r\n        this.sell_time = new Date();\r\n        this.sell_money = \"\";\r\n        this.sell_custom = \"\";\r\n        this.sell_payfull = true;\r\n        this.sell_paymoney1 = \"\";\r\n        this.sell_paytime1 = new Date();\r\n        this.sell_paymoney2 = \"\";\r\n        this.sell_paytime2 = new Date();\r\n        this.sell_note = \"\";\r\n        this.dialogSaleListVisible = true;\r\n      },\r\n      // 新增销售单前数据的验证\r\n      sellOrderSave1() {\r\n        console.log(\"新增销售单\");\r\n        console.log(this.sell_payfull);\r\n        if (this.sell_payfull == false) {\r\n          this.paramsSave = {\r\n            id: this.id,\r\n            sell_time: this.shellDate(this.sell_time),\r\n            sell_money: this.sell_money,\r\n            sell_custom: this.sell_custom,\r\n            sell_payfull: 0,\r\n            sell_paymoney1: this.sell_paymoney1,\r\n            sell_paytime1: this.sell_paytime1 == \"\" ? \"\" : this.shellDate(this.sell_paytime1),\r\n            sell_paymoney2: this.sell_paymoney2,\r\n            sell_paytime2: this.sell_paymoney2 == \"\" ? \"\" : this.shellDate(this.sell_paytime2),\r\n            sell_note: this.sell_note\r\n          };\r\n          return 1;\r\n        }\r\n        if (this.sell_payfull == true) {\r\n          this.paramsSave = {\r\n            id: this.id,\r\n            sell_time: this.shellDate(this.sell_time),\r\n            sell_money: this.sell_money,\r\n            sell_custom: this.sell_custom,\r\n            sell_payfull: 1,\r\n            sell_paymoney1: this.sell_paymoney1,\r\n            sell_paytime1: this.sell_paytime1 == \"\" ? \"\" : this.shellDate(this.sell_paytime1),\r\n            sell_note: this.sell_note\r\n          };\r\n          if (this.sell_paymoney1 !== \"\") {\r\n            if (this.sell_paymoney1 == this.sell_money) {\r\n              return 1;\r\n            } else if (this.sell_paymoney1 !== this.sell_money) {\r\n              this.$message.error({\r\n                message: \"付款金额与销售金额不等，不能保存，请重新填写\"\r\n              });\r\n              return 3;\r\n            }\r\n          } else {\r\n            return 1;\r\n          }\r\n        }\r\n      },\r\n      // 新增销售单\r\n      sellOrderSave() {\r\n        console.log(\"ffff\");\r\n        console.log(this.paramsSave);\r\n        console.log(this.sellOrderSave1());\r\n        if (this.sellOrderSave1() == 1) {\r\n          this.$axios\r\n            .post(this.$store.state.baseUrl + \"/SellOrderSave\", this.paramsSave)\r\n            .then(res => {\r\n              console.log(\"新增销售单成功了吗\");\r\n              this.$message.success({\r\n                message: \"新增销售单成功\",\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n              console.log(res);\r\n              if (res.data !== \"\") {\r\n                this.sell_stockouttoken = res.data.sell_stockouttoken;\r\n                console.log(this.sell_stockouttoken);\r\n                if (this.logState == 2) {\r\n                  this.options.text = this.sell_stockouttoken;\r\n                } else {\r\n                  this.options.text = \"\";\r\n                }\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n              this.$message.error({\r\n                message: err.data.message + \"，请检查填写数据是否正确\",\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n            });\r\n        }\r\n      },\r\n      // 确定\r\n      sellOrderSaveSure() {\r\n        this.forSaleWatchList.watch.splice(this.watchIndex, 1);\r\n        this.dialogSaleListVisible = false;\r\n        this.keyword = \"\";\r\n        console.log(this.forSaleWatchList.watch);\r\n        if (this.forSaleWatchList.watch.length == 0) {\r\n          this.$emit(\"gobackForSale\", 0);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .for-sale-list-container {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n\r\n    .back-img {\r\n      height: 65px;\r\n      // margin-right: 10%;\r\n      line-height: 65px;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      cursor: pointer;\r\n\r\n      .font {\r\n        // margin-left: 30px;\r\n        font-size: 30px;\r\n        color: #2d4e65;\r\n      }\r\n    }\r\n\r\n    .list-table {\r\n      background-color: #fff;\r\n      border-radius: 30px;\r\n      margin: 40px 0;\r\n      padding: 0 30px;\r\n    }\r\n  }\r\n\r\n  td {\r\n    height: 60px;\r\n    margin: 10px 0;\r\n    padding: 20px 0;\r\n    background-color: #f2f5f7;\r\n    font-size: 17px;\r\n  }\r\n\r\n  .first-td {\r\n    border-top-left-radius: 30px;\r\n    border-bottom-left-radius: 30px;\r\n  }\r\n\r\n  .last-td {\r\n    border-top-right-radius: 30px;\r\n    border-bottom-right-radius: 30px;\r\n  }\r\n\r\n  @media screen and (min-width: 1651px) {\r\n    .top-form {\r\n      width: 26%;\r\n    }\r\n\r\n    .back-img {\r\n      width: 12%;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1101px) and (max-width: 1650px) {\r\n    .top-form {\r\n      width: 40%;\r\n    }\r\n\r\n    .back-img {\r\n      width: 15%;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 986px) and (max-width: 1100px) {\r\n    .top-form {\r\n      width: 45%;\r\n    }\r\n\r\n    .back-img {\r\n      width: 18%;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 985px) {\r\n    .top-form {\r\n      width: 50%;\r\n    }\r\n\r\n    .back-img {\r\n      width: 21%;\r\n    }\r\n  }\r\n\r\n  .top-form {\r\n    height: 80px;\r\n    padding-left: 30px;\r\n    line-height: 80px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n    .top-span {\r\n      margin-right: 20%;\r\n      font-size: 22px;\r\n    }\r\n  }\r\n  .input-style{\r\n    width: 70% !important;\r\n  }\r\n  table {\r\n    width: 100%;\r\n    table-layout: fixed;\r\n    border-collapse: separate;\r\n    border-spacing: 0 30px;\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 12%;\r\n        text-align: center;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n"]}]}